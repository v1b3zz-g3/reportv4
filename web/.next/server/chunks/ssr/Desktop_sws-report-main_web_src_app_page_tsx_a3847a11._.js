module.exports=[61148,a=>{"use strict";let b;var c=a.i(24413),d=a.i(14186);let e=a=>{let b,c=new Set,d=(a,d)=>{let e="function"==typeof a?a(b):a;if(!Object.is(e,b)){let a=b;b=(null!=d?d:"object"!=typeof e||null===e)?e:Object.assign({},b,e),c.forEach(c=>c(b,a))}},e=()=>b,f={setState:d,getState:e,getInitialState:()=>g,subscribe:a=>(c.add(a),()=>c.delete(a))},g=b=a(d,e,f);return f},f=a=>{let b=a?e(a):e,c=a=>(function(a,b=a=>a){let c=d.default.useSyncExternalStore(a.subscribe,d.default.useCallback(()=>b(a.getState()),[a,b]),d.default.useCallback(()=>b(a.getInitialState()),[a,b]));return d.default.useDebugValue(c),c})(b,a);return Object.assign(c,b),c},g=a=>a&&"string"==typeof a?new Date(a.includes("T")?a:a.replace(" ","T")+"Z"):new Date,h=a=>g(a).toLocaleString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),i=a=>{let b=g(a),c=Math.floor(Math.floor((new Date().getTime()-b.getTime())/1e3)/60),d=Math.floor(c/60),e=Math.floor(d/24);return e>0?`${e}d ago`:d>0?`${d}h ago`:c>0?`${c}m ago`:"Just now"},j=(...a)=>a.filter(Boolean).join(" "),k=(b=(a,b)=>({isVisible:!1,theme:"dark",activeTab:"my-reports",selectedReportId:null,isCreatingReport:!1,showPlayerInfo:!1,selectedPlayerId:null,voiceMessagesEnabled:!1,playerData:null,myReports:[],allReports:[],categories:[],priorities:[],locale:{},notifications:[],reportNotes:{},playerNotes:{},playerHistory:null,statistics:null,inventory:{},screenshotPopup:{isOpen:!1,imageData:null,playerName:null,reportId:null},userScreenshots:{},filter:{status:"all",category:"all"},setVisible:b=>a({isVisible:b}),setTheme:b=>a({theme:b}),setActiveTab:b=>a({activeTab:b,selectedReportId:null}),setSelectedReportId:b=>a({selectedReportId:b}),setIsCreatingReport:b=>a({isCreatingReport:b}),setShowPlayerInfo:b=>a({showPlayerInfo:b}),setSelectedPlayerId:b=>a({selectedPlayerId:b}),setVoiceMessagesEnabled:b=>a({voiceMessagesEnabled:b}),setPlayerData:b=>a({playerData:b}),setMyReports:b=>a({myReports:b}),setAllReports:b=>a({allReports:b}),setCategories:b=>a({categories:b}),setPriorities:b=>a({priorities:b}),setLocale:b=>a({locale:b}),setFilter:b=>a(a=>({filter:{...a.filter,...b}})),addReport:b=>a(a=>({myReports:a.playerData?.identifier===b.playerId?[b,...a.myReports]:a.myReports,allReports:a.playerData?.isAdmin?[b,...a.allReports]:a.allReports})),updateReport:b=>a(a=>({myReports:a.myReports.map(a=>a.id===b.id?{...a,...b}:a),allReports:a.allReports.map(a=>a.id===b.id?{...a,...b}:a)})),removeReport:b=>a(a=>({myReports:a.myReports.filter(a=>a.id!==b),allReports:a.allReports.filter(a=>a.id!==b),selectedReportId:a.selectedReportId===b?null:a.selectedReportId})),addMessage:b=>a(a=>{let c=a=>a.map(a=>a.id===b.reportId?{...a,messages:[...a.messages||[],b]}:a);return{myReports:c(a.myReports),allReports:c(a.allReports)}}),setMessages:(b,c)=>a(a=>{let d=a=>a.map(a=>a.id===b?{...a,messages:c}:a);return{myReports:d(a.myReports),allReports:d(a.allReports)}}),updatePlayerOnlineStatus:(b,c)=>a(a=>{let d=a=>a.map(a=>a.playerId===b?{...a,isPlayerOnline:c}:a);return{myReports:d(a.myReports),allReports:d(a.allReports)}}),addNotification:c=>{let d=Math.random().toString(36).substring(2,9);a(a=>({notifications:[...a.notifications,{...c,id:d}]})),setTimeout(()=>{b().removeNotification(d)},c.duration||4e3)},removeNotification:b=>a(a=>({notifications:a.notifications.filter(a=>a.id!==b)})),setReportNotes:(b,c)=>a(a=>({reportNotes:{...a.reportNotes,[b]:c}})),addReportNote:b=>a(a=>{let c=a.reportNotes[b.reportId]||[],d=b.id>0?c.filter(a=>!(a.id<0&&a.note===b.note)):c;return{reportNotes:{...a.reportNotes,[b.reportId]:[b,...d]}}}),removeReportNote:(b,c)=>a(a=>({reportNotes:{...a.reportNotes,[b]:(a.reportNotes[b]||[]).filter(a=>a.id!==c)}})),setPlayerNotes:(b,c)=>a(a=>({playerNotes:{...a.playerNotes,[b]:c}})),addPlayerNote:b=>a(a=>{let c=a.playerNotes[b.playerId]||[],d=b.id>0?c.filter(a=>!(a.id<0&&a.note===b.note)):c,e=a.playerHistory&&a.playerHistory.playerId===b.playerId?{...a.playerHistory,notes:b.id>0?[b,...a.playerHistory.notes.filter(a=>!(a.id<0&&a.note===b.note))]:a.playerHistory.notes}:a.playerHistory;return{playerNotes:{...a.playerNotes,[b.playerId]:[b,...d]},playerHistory:e}}),removePlayerNote:(b,c)=>a(a=>({playerNotes:{...a.playerNotes,[b]:(a.playerNotes[b]||[]).filter(a=>a.id!==c)},playerHistory:a.playerHistory&&a.playerHistory.playerId===b?{...a.playerHistory,notes:a.playerHistory.notes.filter(a=>a.id!==c)}:a.playerHistory})),setPlayerHistory:b=>a({playerHistory:b}),setStatistics:b=>a({statistics:b}),setInventory:(b,c)=>a(a=>{let d=a.inventory[b];return{inventory:{...a.inventory,[b]:{items:[],itemList:{},loading:!1,systemName:"",supportsMetadata:!1,actionLog:[],...d,...c}}}}),setInventoryLoading:(b,c)=>a(a=>{let d=a.inventory[b];return{inventory:{...a.inventory,[b]:{items:[],itemList:{},loading:!1,systemName:"",supportsMetadata:!1,actionLog:[],...d,loading:c}}}}),setInventoryItems:(b,c)=>a(a=>({inventory:{...a.inventory,[b]:{...a.inventory[b],items:c,loading:!1}}})),setInventoryActionLog:(b,c)=>a(a=>({inventory:{...a.inventory,[b]:{...a.inventory[b],actionLog:c}}})),getInventory:a=>b().inventory[a],setScreenshotPopup:b=>a(a=>({screenshotPopup:{...a.screenshotPopup,...b}})),closeScreenshotPopup:()=>a({screenshotPopup:{isOpen:!1,imageData:null,playerName:null,reportId:null}}),setUserScreenshot:(b,c)=>a(a=>({userScreenshots:{...a.userScreenshots,[b]:c}})),clearUserScreenshot:b=>a(a=>{let{[b]:c,...d}=a.userScreenshots;return{userScreenshots:d}}),getSelectedReport:()=>{let a=b();return("admin"===a.activeTab?a.allReports:a.myReports).find(b=>b.id===a.selectedReportId)},getFilteredReports:()=>{let a=b(),c="admin"===a.activeTab?a.allReports:a.myReports;if("admin"!==a.activeTab)return c;let{filter:d}=a;return c.filter(a=>(!d.status||"all"===d.status||a.status===d.status)&&(!d.category||"all"===d.category||a.category===d.category)&&(!d.playerId||!!a.playerId.includes(d.playerId)))},getReportNotes:a=>b().reportNotes[a]||[],getPlayerNotes:a=>b().playerNotes[a]||[]}))?f(b):f,l=async(a,b)=>{if(!window.invokeNative)return console.log(`[NUI] ${a}`,b),{};let c=window.invokeNative&&window.GetParentResourceName?.()||"sws-report";return(await fetch(`https://${c}/${a}`,{method:"POST",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify(b||{})})).json()};function m(){let a=(0,d.useCallback)(()=>{l("close")},[]),b=(0,d.useCallback)(a=>{l("createReport",a)},[]),c=(0,d.useCallback)(a=>{l("deleteReport",{id:a})},[]),e=(0,d.useCallback)(a=>{l("claimReport",{id:a})},[]),f=(0,d.useCallback)(a=>{l("unclaimReport",{id:a})},[]),g=(0,d.useCallback)(a=>{l("resolveReport",{id:a})},[]),h=(0,d.useCallback)((a,b)=>{l("sendMessage",{reportId:a,message:b})},[]),i=(0,d.useCallback)(a=>{l("getMessages",{reportId:a})},[]),j=(0,d.useCallback)((a,b)=>{l("adminAction",{reportId:a,action:b})},[]),k=(0,d.useCallback)(a=>{l("setTheme",{theme:a})},[]),m=(0,d.useCallback)((a,b)=>{l("setPriority",{reportId:a,priority:b})},[]),n=(0,d.useCallback)((a,b)=>{l("addReportNote",{reportId:a,note:b})},[]),o=(0,d.useCallback)(a=>{l("deleteReportNote",{noteId:a})},[]),p=(0,d.useCallback)(a=>{l("getReportNotes",{reportId:a})},[]),q=(0,d.useCallback)((a,b)=>{l("addPlayerNote",{playerId:a,note:b})},[]),r=(0,d.useCallback)(a=>{l("deletePlayerNote",{noteId:a})},[]),s=(0,d.useCallback)(a=>{l("getPlayerNotes",{playerId:a})},[]),t=(0,d.useCallback)(a=>{l("getPlayerHistory",{playerId:a})},[]),u=(0,d.useCallback)(a=>{l("getMyReports",{includeResolved:a})},[]),v=(0,d.useCallback)(()=>{l("getStatistics")},[]),w=(0,d.useCallback)(a=>{l("takeScreenshot",{reportId:a})},[]),x=(0,d.useCallback)(a=>{l("getPlayerInventory",{reportId:a})},[]),y=(0,d.useCallback)((a,b,c,d)=>{l("addInventoryItem",{reportId:a,itemName:b,count:c,metadata:d})},[]),z=(0,d.useCallback)((a,b,c,d)=>{l("removeInventoryItem",{reportId:a,itemName:b,count:c,slot:d})},[]),A=(0,d.useCallback)((a,b,c)=>{l("setInventoryItemCount",{reportId:a,itemName:b,count:c})},[]);return{close:a,createReport:b,deleteReport:c,claimReport:e,unclaimReport:f,resolveReport:g,sendMessage:h,getMessages:i,adminAction:j,setTheme:k,setPriority:m,addReportNote:n,deleteReportNote:o,getReportNotes:p,addPlayerNote:q,deletePlayerNote:r,getPlayerNotes:s,getPlayerHistory:t,getMyReports:u,getStatistics:v,takeScreenshot:w,getPlayerInventory:x,addInventoryItem:y,removeInventoryItem:z,setInventoryItemCount:A,setInventoryItemMetadata:(0,d.useCallback)((a,b,c)=>{l("setInventoryItemMetadata",{reportId:a,slot:b,metadata:c})},[]),getInventoryActionLog:(0,d.useCallback)((a,b)=>{l("getInventoryActionLog",{reportId:a,limit:b})},[])}}let n={default:"bg-bg-card border-border text-text-primary hover:bg-bg-elevated hover:border-border-hover",primary:"bg-accent text-white border-accent hover:bg-accent-hover",secondary:"bg-bg-tertiary border-border text-text-secondary hover:bg-bg-elevated hover:text-text-primary hover:border-border-hover",success:"bg-success-bg text-success border-success-border hover:bg-success/20",danger:"bg-error-bg text-error border-error-border hover:bg-error/20",ghost:"bg-transparent border-transparent text-text-secondary hover:text-text-primary hover:bg-bg-tertiary"},o={default:"h-10 px-4 text-sm",sm:"h-8 px-3 text-xs",lg:"h-12 px-6 text-base",icon:"h-9 w-9 p-0"},p=(0,d.forwardRef)(({className:a,variant:b="default",size:d="default",children:e,disabled:f,...g},h)=>(0,c.jsx)("button",{ref:h,disabled:f,className:j("inline-flex items-center justify-center gap-2 rounded-md border font-medium transition-all duration-200","focus:outline-none focus:ring-2 focus:ring-accent/20","disabled:opacity-50 disabled:cursor-not-allowed",n[b],o[d],a),...g,children:e}));p.displayName="Button";let q=j("w-full rounded-md border border-border bg-bg-card px-4 py-3","text-sm text-text-primary placeholder:text-text-muted","transition-all duration-200","focus:outline-none focus:border-accent focus:ring-2 focus:ring-accent/15","disabled:opacity-50 disabled:cursor-not-allowed"),r=(0,d.forwardRef)(({className:a,...b},d)=>(0,c.jsx)("input",{ref:d,className:j(q,a),...b}));r.displayName="Input";let s=(0,d.forwardRef)(({className:a,...b},d)=>(0,c.jsx)("textarea",{ref:d,className:j(q,"min-h-[120px] resize-y",a),...b}));s.displayName="Textarea";let t=(0,d.forwardRef)(({className:a,children:b,...d},e)=>(0,c.jsx)("select",{ref:e,className:j(q,"cursor-pointer appearance-none pr-10","bg-[url('data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20fill%3D%22none%22%20viewBox%3D%220%200%2024%2024%22%20stroke%3D%22%239ca3af%22%3E%3Cpath%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%20stroke-width%3D%222%22%20d%3D%22M19%209l-7%207-7-7%22%2F%3E%3C%2Fsvg%3E')] bg-[length:16px] bg-[right_12px_center] bg-no-repeat",a),...d,children:b}));t.displayName="Select";let u=(0,d.forwardRef)(({className:a,...b},d)=>(0,c.jsx)("label",{ref:d,className:j("text-sm font-medium text-text-primary",a),...b}));function v({isOpen:a,onClose:b,title:e,children:f,footer:g}){return((0,d.useEffect)(()=>{let c=c=>{"Escape"===c.key&&a&&b()};return document.addEventListener("keydown",c),()=>document.removeEventListener("keydown",c)},[a,b]),a)?(0,c.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm",onClick:b,children:(0,c.jsxs)("div",{className:"w-full max-w-lg xl:max-w-2xl 2xl:max-w-3xl max-h-[90vh] flex flex-col bg-bg-secondary border border-border rounded-xl shadow-lg animate-[scale-in_0.2s_ease-out]",onClick:a=>a.stopPropagation(),children:[(0,c.jsxs)("div",{className:"flex items-center justify-between px-6 py-4 border-b border-border",children:[(0,c.jsx)("h3",{className:"text-lg font-semibold text-text-primary",children:e}),(0,c.jsx)(p,{variant:"ghost",size:"icon",onClick:b,children:(0,c.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,c.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,c.jsx)("div",{className:"flex-1 overflow-y-auto px-6 py-4",children:f}),g&&(0,c.jsx)("div",{className:"flex items-center justify-end gap-3 px-6 py-4 border-t border-border",children:g})]})}):null}u.displayName="Label";let w={default:"bg-bg-elevated text-text-secondary border-border",open:"bg-info-bg text-info border-info-border",claimed:"bg-warning-bg text-warning border-warning-border",resolved:"bg-success-bg text-success border-success-border",info:"bg-accent/10 text-accent border-accent/30"};function x({variant:a="default",children:b,className:d}){return(0,c.jsx)("span",{className:j("inline-flex items-center gap-1.5 px-2.5 py-1 text-xs font-medium rounded-md border",w[a],d),children:b})}function y(){let{theme:a,setTheme:b,playerData:d,activeTab:e,setActiveTab:f,locale:g}=k(),{close:h,setTheme:i}=m();return(0,c.jsxs)("header",{className:"flex items-center justify-between px-6 py-4 bg-bg-elevated border-b border-border",children:[(0,c.jsxs)("div",{className:"flex flex-col",children:[(0,c.jsx)("span",{className:"text-xl font-bold text-text-primary tracking-tight",children:"Reports"}),(0,c.jsx)("span",{className:"text-[10px] xl:text-xs font-semibold text-accent uppercase tracking-wider",children:"Support System"})]}),(0,c.jsxs)("div",{className:"flex items-center gap-1 p-1 bg-bg-card rounded-lg",children:[(0,c.jsxs)("button",{onClick:()=>f("my-reports"),className:`flex items-center gap-2 px-4 py-2 text-sm font-medium rounded-md transition-all ${"my-reports"===e?"bg-bg-elevated text-text-primary":"text-text-secondary hover:text-text-primary"}`,children:[(0,c.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,c.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 5v2m0 4v2m0 4v2M5 5a2 2 0 00-2 2v3a2 2 0 110 4v3a2 2 0 002 2h14a2 2 0 002-2v-3a2 2 0 110-4V7a2 2 0 00-2-2H5z"})}),g.my_reports||"My Reports"]}),d?.isAdmin&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("button",{onClick:()=>f("admin"),className:`flex items-center gap-2 px-4 py-2 text-sm font-medium rounded-md transition-all ${"admin"===e?"bg-bg-elevated text-text-primary":"text-text-secondary hover:text-text-primary"}`,children:[(0,c.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,c.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),g.admin_panel||"Admin Panel"]}),(0,c.jsxs)("button",{onClick:()=>f("statistics"),className:`flex items-center gap-2 px-4 py-2 text-sm font-medium rounded-md transition-all ${"statistics"===e?"bg-bg-elevated text-text-primary":"text-text-secondary hover:text-text-primary"}`,children:[(0,c.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,c.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),g.statistics||"Statistics"]})]})]}),(0,c.jsxs)("div",{className:"flex items-center gap-2",children:[(0,c.jsx)(p,{variant:"ghost",size:"icon",onClick:()=>{let c="dark"===a?"light":"dark";b(c),i(c)},title:g.theme||"Theme",children:"dark"===a?(0,c.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,c.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})}):(0,c.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,c.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})})}),(0,c.jsx)(p,{variant:"ghost",size:"icon",onClick:h,children:(0,c.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,c.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]})}function z(){let{notifications:a,removeNotification:b}=k();return(0,c.jsx)("div",{className:"fixed top-6 right-6 z-[9999] flex flex-col gap-3 pointer-events-none",children:a.map(a=>(0,c.jsxs)("div",{onClick:()=>b(a.id),className:j("flex items-center gap-3 min-w-[320px] max-w-[400px] p-4","bg-bg-elevated border border-border border-l-[3px] rounded-lg shadow-lg","animate-[slide-in-right_0.3s_ease-out] cursor-pointer pointer-events-auto",(a=>{switch(a){case"success":return"border-l-success";case"error":return"border-l-error";default:return"border-l-info"}})(a.type)),children:[(a=>{switch(a){case"success":return(0,c.jsx)("svg",{className:"w-5 h-5 text-success",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,c.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})});case"error":return(0,c.jsx)("svg",{className:"w-5 h-5 text-error",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,c.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})});default:return(0,c.jsx)("svg",{className:"w-5 h-5 text-info",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,c.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}})(a.type),(0,c.jsx)("p",{className:"flex-1 text-sm text-text-primary",children:a.message})]},a.id))})}let A={gray:"bg-gray-500/20 text-gray-400 border-gray-500/30",blue:"bg-blue-500/20 text-blue-400 border-blue-500/30",orange:"bg-orange-500/20 text-orange-400 border-orange-500/30",red:"bg-red-500/20 text-red-400 border-red-500/30"};function B({priority:a,size:b="sm"}){let{priorities:d,locale:e}=k(),f=d.find(b=>b.id===a);if(!f)return null;let g=A[f.color]||A.gray,h=e[`priority_${f.label.toLowerCase()}`]||f.label;return(0,c.jsxs)("span",{className:j("inline-flex items-center gap-1 font-medium border rounded",g,"sm"===b?"px-1.5 py-0.5 text-[10px]":"px-2 py-1 text-xs"),children:[(0,c.jsx)("svg",{className:j("fill-current","sm"===b?"w-2 h-2":"w-3 h-3"),viewBox:"0 0 8 8",children:(0,c.jsx)("circle",{cx:"4",cy:"4",r:"3"})}),h]})}function C({report:a}){let{selectedReportId:b,setSelectedReportId:d,categories:e,locale:f}=k(),g=b===a.id,h=e.find(b=>b.id===a.category);return(0,c.jsxs)("div",{onClick:()=>d(a.id),className:j("p-4 bg-bg-card border border-border rounded-lg cursor-pointer transition-all duration-200","hover:bg-bg-tertiary hover:border-border-hover",g&&"border-accent bg-bg-tertiary"),children:[(0,c.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,c.jsxs)("span",{className:"flex items-center gap-1.5 font-mono text-xs text-text-tertiary",children:["#",a.id,(0,c.jsx)("span",{className:`w-2 h-2 rounded-full ${a.isPlayerOnline?"bg-green-500":"bg-red-500"}`,title:a.isPlayerOnline?"Online":"Offline"})]}),(0,c.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,c.jsx)(B,{priority:a.priority,size:"sm"}),(0,c.jsx)(x,{variant:(()=>{switch(a.status){case"open":return"open";case"claimed":return"claimed";case"resolved":return"resolved";default:return"default"}})(),children:f[`status_${a.status}`]||a.status})]})]}),(0,c.jsx)("h4",{className:"text-[15px] font-semibold text-text-primary mb-2 line-clamp-2",children:a.subject}),(0,c.jsxs)("div",{className:"flex flex-wrap items-center gap-3 text-xs text-text-tertiary",children:[h&&(0,c.jsx)("span",{className:"flex items-center gap-1.5 px-2 py-0.5 bg-bg-elevated rounded",children:h.label}),(0,c.jsx)("span",{children:i(a.createdAt)}),a.claimedByName&&(0,c.jsxs)("span",{className:"flex items-center gap-1",children:[(0,c.jsx)("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,c.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),a.claimedByName]})]})]})}function D(){let{activeTab:a,setIsCreatingReport:b,getFilteredReports:e,locale:f,filter:g,setFilter:h,categories:i}=k(),{getMyReports:j}=m(),[l,n]=(0,d.useState)(!1),o=e();return(0,d.useEffect)(()=>{"my-reports"===a&&j(l)},[l,a]),(0,c.jsxs)("aside",{className:"w-[380px] xl:w-[440px] 2xl:w-[520px] flex flex-col border-r border-border bg-bg-secondary",children:[(0,c.jsxs)("div",{className:"flex items-center justify-between px-4 py-3 border-b border-border",children:[(0,c.jsx)("h3",{className:"text-sm font-semibold text-text-primary",children:"admin"===a?f.active_reports||"Active Reports":f.my_reports||"My Reports"}),"my-reports"===a&&(0,c.jsxs)(p,{size:"sm",variant:"primary",onClick:()=>b(!0),children:[(0,c.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,c.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),f.create_report||"Create"]})]}),"my-reports"===a&&(0,c.jsx)("div",{className:"flex items-center gap-2 px-4 py-2 border-b border-border",children:(0,c.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer text-xs text-text-secondary hover:text-text-primary transition-colors",children:[(0,c.jsx)("input",{type:"checkbox",checked:l,onChange:a=>n(a.target.checked),className:"w-3.5 h-3.5 rounded border-border bg-bg-tertiary accent-accent cursor-pointer"}),f.show_resolved||"Show resolved"]})}),"admin"===a&&(0,c.jsxs)("div",{className:"flex flex-wrap gap-2 px-3 py-2 border-b border-border",children:[(0,c.jsxs)(t,{className:"flex-1 min-w-[90px] py-1.5 text-xs",value:g.status||"all",onChange:a=>h({status:a.target.value}),children:[(0,c.jsx)("option",{value:"all",children:f.all||"All"}),(0,c.jsx)("option",{value:"open",children:f.status_open||"Open"}),(0,c.jsx)("option",{value:"claimed",children:f.status_claimed||"Claimed"}),(0,c.jsx)("option",{value:"resolved",children:f.status_resolved||"Resolved"})]}),(0,c.jsxs)(t,{className:"flex-1 min-w-[90px] py-1.5 text-xs",value:g.category||"all",onChange:a=>h({category:a.target.value}),children:[(0,c.jsx)("option",{value:"all",children:f.all||"All"}),i.map(a=>(0,c.jsx)("option",{value:a.id,children:a.label},a.id))]}),(0,c.jsx)(r,{className:"w-full py-1.5 text-xs",type:"text",placeholder:f.search_by_player||"Search player...",value:g.playerId||"",onChange:a=>h({playerId:a.target.value||void 0})})]}),(0,c.jsx)("div",{className:"flex-1 overflow-y-auto p-3 space-y-2",children:0===o.length?(0,c.jsxs)("div",{className:"flex flex-col items-center justify-center h-full text-center text-text-tertiary",children:[(0,c.jsx)("svg",{className:"w-12 h-12 mb-3 opacity-30",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,c.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})}),(0,c.jsx)("p",{className:"text-sm",children:"admin"===a?f.no_reports||"No reports found":f.no_active_reports||"You have no active reports"})]}):o.map(a=>(0,c.jsx)(C,{report:a},a.id))})]})}function E(){let{isCreatingReport:a,setIsCreatingReport:b,categories:e,locale:f}=k(),{createReport:g}=m(),[h,i]=(0,d.useState)(""),[j,l]=(0,d.useState)(""),[n,o]=(0,d.useState)(""),[q,w]=(0,d.useState)(!1),x=()=>{i(""),l(""),o(""),w(!1),b(!1)};return(0,c.jsx)(v,{isOpen:a,onClose:x,title:f.create_report||"Create Report",footer:(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(p,{variant:"ghost",onClick:x,children:f.cancel||"Cancel"}),(0,c.jsx)(p,{variant:"primary",onClick:()=>{h.trim()&&j&&(w(!0),g({subject:h.trim(),category:j,description:n.trim()||void 0}),x())},disabled:!h.trim()||!j||q,children:f.submit||"Submit"})]}),children:(0,c.jsxs)("div",{className:"space-y-4",children:[(0,c.jsxs)("div",{className:"space-y-2",children:[(0,c.jsx)(u,{htmlFor:"subject",children:f.report_subject||"Subject"}),(0,c.jsx)(r,{id:"subject",type:"text",placeholder:f.report_subject_placeholder||"Brief summary of your issue",value:h,onChange:a=>i(a.target.value),maxLength:128})]}),(0,c.jsxs)("div",{className:"space-y-2",children:[(0,c.jsx)(u,{htmlFor:"category",children:f.report_category||"Category"}),(0,c.jsxs)(t,{id:"category",value:j,onChange:a=>l(a.target.value),children:[(0,c.jsx)("option",{value:"",children:f.report_category_placeholder||"Select a category"}),e.map(a=>(0,c.jsx)("option",{value:a.id,children:a.label},a.id))]})]}),(0,c.jsxs)("div",{className:"space-y-2",children:[(0,c.jsx)(u,{htmlFor:"description",children:f.report_description||"Description"}),(0,c.jsx)(s,{id:"description",placeholder:f.report_description_placeholder||"Provide more details about your issue...",value:n,onChange:a=>o(a.target.value),maxLength:2e3,rows:5})]})]})})}function F({onSend:a,maxDuration:b=60,disabled:e=!1,locale:f}){let[g,h]=(0,d.useState)(!1),{isRecording:i,isPaused:k,duration:l,error:m,startRecording:n,stopRecording:o,pauseRecording:q,resumeRecording:r,cancelRecording:s}=function(a={}){let{maxDuration:b=60,onRecordingComplete:c}=a,[e,f]=(0,d.useState)(!1),[g,h]=(0,d.useState)(!1),[i,j]=(0,d.useState)(0),[k,l]=(0,d.useState)(null),m=(0,d.useRef)(null),n=(0,d.useRef)(null),o=(0,d.useRef)([]),p=(0,d.useRef)(null),q=(0,d.useRef)(0),r=(0,d.useRef)(0),s=(0,d.useCallback)(()=>{p.current&&(clearInterval(p.current),p.current=null),n.current&&(n.current.getTracks().forEach(a=>a.stop()),n.current=null),m.current=null,o.current=[],j(0),h(!1),r.current=0},[]),t=(0,d.useCallback)(async()=>{l(null),s();try{let a=await navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!0,noiseSuppression:!0,sampleRate:44100}});n.current=a;let d=MediaRecorder.isTypeSupported("audio/webm;codecs=opus")?"audio/webm;codecs=opus":MediaRecorder.isTypeSupported("audio/webm")?"audio/webm":"audio/mp4",e=new MediaRecorder(a,{mimeType:d,audioBitsPerSecond:128e3});m.current=e,e.ondataavailable=a=>{a.data.size>0&&o.current.push(a.data)},e.onstop=()=>{let a=new Blob(o.current,{type:d}),e=r.current+(Date.now()-q.current)/1e3;c&&a.size>0&&o.current.length>0&&c(a,Math.min(e,b)),s(),f(!1)},e.onerror=()=>{l("Recording error occurred"),s(),f(!1)},o.current=[],q.current=Date.now(),r.current=0,e.start(1e3),f(!0),p.current=setInterval(()=>{let a=r.current+(Date.now()-q.current)/1e3;j(a),a>=b&&m.current&&"inactive"!==m.current.state&&m.current.stop()},100)}catch(a){l(a instanceof Error?a.message:"Microphone access denied"),s()}},[s,b,c]),u=(0,d.useCallback)(()=>{m.current&&"inactive"!==m.current.state&&m.current.stop()},[]),v=(0,d.useCallback)(()=>{m.current&&"recording"===m.current.state&&(m.current.pause(),h(!0),r.current+=(Date.now()-q.current)/1e3,p.current&&(clearInterval(p.current),p.current=null))},[]),w=(0,d.useCallback)(()=>{m.current&&"paused"===m.current.state&&(m.current.resume(),h(!1),q.current=Date.now(),p.current=setInterval(()=>{let a=r.current+(Date.now()-q.current)/1e3;j(a),a>=b&&m.current&&"inactive"!==m.current.state&&m.current.stop()},100))},[b]),x=(0,d.useCallback)(()=>{o.current=[],m.current&&"inactive"!==m.current.state&&m.current.stop(),s(),f(!1)},[s]);return(0,d.useEffect)(()=>()=>s(),[s]),{isRecording:e,isPaused:g,duration:i,error:k,startRecording:t,stopRecording:u,pauseRecording:v,resumeRecording:w,cancelRecording:x}}({maxDuration:b,onRecordingComplete:(0,d.useCallback)(async(b,c)=>{h(!0);try{let d=new FileReader;d.onloadend=()=>{let b=d.result.split(",")[1];a(b,c),h(!1)},d.onerror=()=>{console.error("Failed to convert audio to base64"),h(!1)},d.readAsDataURL(b)}catch(a){console.error("Error processing recording:",a),h(!1)}},[a])}),t=a=>{let b=Math.floor(a/60),c=Math.floor(a%60);return`${b}:${c.toString().padStart(2,"0")}`};return i||k?(0,c.jsxs)("div",{className:"flex items-center gap-2 px-3 py-2 bg-bg-tertiary rounded-lg",children:[(0,c.jsx)("div",{className:j("w-3 h-3 rounded-full",k?"bg-warning":"bg-error animate-pulse")}),(0,c.jsxs)("span",{className:"text-sm font-mono text-text-primary min-w-[5rem]",children:[t(l)," / ",t(b)]}),(0,c.jsx)("div",{className:"flex-1 h-1 bg-bg-elevated rounded-full overflow-hidden min-w-[60px]",children:(0,c.jsx)("div",{className:j("h-full transition-all",k?"bg-warning":"bg-error"),style:{width:`${l/b*100}%`}})}),(0,c.jsx)(p,{variant:"ghost",size:"icon",onClick:k?r:q,title:k?f.resume||"Resume":f.pause||"Pause",className:"h-8 w-8",children:k?(0,c.jsx)("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:(0,c.jsx)("path",{d:"M8 5v14l11-7z"})}):(0,c.jsx)("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:(0,c.jsx)("path",{d:"M6 19h4V5H6v14zm8-14v14h4V5h-4z"})})}),(0,c.jsx)(p,{variant:"ghost",size:"icon",onClick:s,title:f.cancel||"Cancel",className:"h-8 w-8 text-error hover:text-error",children:(0,c.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,c.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),(0,c.jsx)(p,{variant:"primary",size:"icon",onClick:o,disabled:l<.5,title:f.send||"Send",className:"h-8 w-8",children:(0,c.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,c.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})})})]}):(0,c.jsx)(p,{variant:"ghost",size:"icon",onClick:n,disabled:e||g,title:m||f.voice_message||"Voice message",className:j("h-auto px-2",m&&"text-error"),children:g?(0,c.jsxs)("svg",{className:"w-5 h-5 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[(0,c.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,c.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):(0,c.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,c.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z"})})})}function G({src:a,duration:b,className:e}){let[f,g]=(0,d.useState)(!1),[h,i]=(0,d.useState)(0),[k,l]=(0,d.useState)(b||0),[m,n]=(0,d.useState)(!0),[o,p]=(0,d.useState)(!1),q=(0,d.useRef)(null);(0,d.useEffect)(()=>{let a=q.current;if(!a)return;let b=()=>{isFinite(a.duration)&&!isNaN(a.duration)&&l(a.duration),n(!1)},c=()=>{i(a.currentTime)},d=()=>{g(!1),i(0)},e=()=>{p(!0),n(!1)},f=()=>{n(!1)};return a.addEventListener("loadedmetadata",b),a.addEventListener("timeupdate",c),a.addEventListener("ended",d),a.addEventListener("error",e),a.addEventListener("canplay",f),()=>{a.removeEventListener("loadedmetadata",b),a.removeEventListener("timeupdate",c),a.removeEventListener("ended",d),a.removeEventListener("error",e),a.removeEventListener("canplay",f)}},[]);let r=a=>{if(!isFinite(a)||isNaN(a)||a<0)return"0:00";let b=Math.floor(a/60),c=Math.floor(a%60);return`${b}:${c.toString().padStart(2,"0")}`};return o?(0,c.jsxs)("div",{className:j("flex items-center gap-2 text-error text-xs",e),children:[(0,c.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,c.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,c.jsx)("span",{children:"Failed to load audio"})]}):(0,c.jsxs)("div",{className:j("flex items-center gap-2 p-2 bg-bg-elevated/50 rounded-lg min-w-[160px]",e),children:[(0,c.jsx)("audio",{ref:q,src:a,preload:"metadata"}),(0,c.jsx)("button",{onClick:()=>{let a=q.current;a&&(f?a.pause():a.play(),g(!f))},disabled:m,className:"w-8 h-8 flex items-center justify-center rounded-full bg-accent text-white hover:bg-accent-hover transition-colors disabled:opacity-50 flex-shrink-0",children:m?(0,c.jsxs)("svg",{className:"w-4 h-4 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[(0,c.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,c.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}):f?(0,c.jsx)("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:(0,c.jsx)("path",{d:"M6 19h4V5H6v14zm8-14v14h4V5h-4z"})}):(0,c.jsx)("svg",{className:"w-4 h-4 ml-0.5",fill:"currentColor",viewBox:"0 0 24 24",children:(0,c.jsx)("path",{d:"M8 5v14l11-7z"})})}),(0,c.jsxs)("div",{className:"flex-1 flex flex-col gap-1 min-w-0",children:[(0,c.jsx)("div",{className:"h-1.5 bg-bg-tertiary rounded-full cursor-pointer overflow-hidden",onClick:a=>{let b=q.current;if(!b||!k)return;let c=a.currentTarget.getBoundingClientRect();b.currentTime=(a.clientX-c.left)/c.width*k},children:(0,c.jsx)("div",{className:"h-full bg-accent rounded-full transition-all",style:{width:k?`${h/k*100}%`:"0%"}})}),(0,c.jsxs)("div",{className:"flex justify-between text-[10px] text-text-muted font-mono",children:[(0,c.jsx)("span",{children:r(h)}),(0,c.jsx)("span",{children:r(k||b||0)})]})]})]})}function H({report:a}){let{locale:b,voiceMessagesEnabled:e}=k(),{sendMessage:f,getMessages:g,takeScreenshot:i}=m(),[n,o]=(0,d.useState)(""),[q,s]=(0,d.useState)(null),t=(0,d.useRef)(null),u=a.messages||[],v=u.length;(0,d.useEffect)(()=>{g(a.id)},[a.id,g]),(0,d.useEffect)(()=>{t.current?.scrollIntoView({behavior:"smooth"})},[v]);let w=()=>{n.trim()&&(f(a.id,n.trim()),o(""))},x=(0,d.useCallback)((b,c)=>{l("sendVoiceMessage",{reportId:a.id,audioData:b,duration:c})},[a.id]);return(0,c.jsxs)("div",{className:"flex-1 flex flex-col min-h-0 overflow-hidden",children:[(0,c.jsxs)("div",{className:"flex-1 flex flex-col overflow-y-auto px-6 py-4 gap-3 min-h-0",children:[0===u.length?(0,c.jsx)("p",{className:"text-center text-sm text-text-muted py-8",children:b.no_messages||"No messages yet"}):u.map(a=>"system"===a.senderType?(0,c.jsxs)("div",{className:"flex flex-col items-center w-full py-1 gap-2",children:[(0,c.jsxs)("span",{className:"text-xs text-text-tertiary italic px-3 py-1 bg-bg-elevated/50 rounded-full",children:[a.message,(0,c.jsx)("span",{className:"ml-2 text-text-muted",children:"·"}),(0,c.jsx)("span",{className:"ml-1 text-text-muted",children:h(a.createdAt)})]}),a.imageUrl&&(0,c.jsx)("img",{src:a.imageUrl,alt:"Screenshot",className:"max-w-[300px] max-h-[200px] rounded-lg border border-border cursor-pointer hover:opacity-90 transition-opacity object-contain",onClick:()=>s(a.imageUrl)})]},a.id):(0,c.jsxs)("div",{className:j("flex flex-col max-w-[80%]","player"===a.senderType?"self-end items-end":"self-start items-start"),children:[(0,c.jsx)("div",{className:j("px-3 py-2 rounded-lg text-sm","player"===a.senderType?"bg-accent text-white rounded-br-sm":"bg-success/10 border border-success/20 text-text-primary rounded-bl-sm"),children:"voice"===a.messageType&&a.audioUrl?(0,c.jsx)(G,{src:a.audioUrl,duration:a.audioDuration}):(0,c.jsxs)(c.Fragment,{children:[a.message,a.imageUrl&&(0,c.jsx)("img",{src:a.imageUrl,alt:"Screenshot",className:"max-w-full max-h-[200px] rounded mt-2 cursor-pointer hover:opacity-90 transition-opacity object-contain",onClick:()=>s(a.imageUrl)})]})}),(0,c.jsxs)("span",{className:"text-[10px] xl:text-xs text-text-tertiary mt-1 flex items-center gap-1",children:[a.senderName,"admin"===a.senderType&&(0,c.jsx)("svg",{className:"w-3 h-3 text-success",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,c.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),"voice"===a.messageType&&(0,c.jsx)("svg",{className:"w-3 h-3 text-accent",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,c.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z"})}),(0,c.jsx)("span",{children:"·"}),h(a.createdAt)]})]},a.id)),(0,c.jsx)("div",{ref:t})]}),"resolved"!==a.status&&(0,c.jsxs)("div",{className:"flex items-stretch gap-2 px-6 py-3 border-t border-border bg-bg-secondary shrink-0",children:[(0,c.jsx)(r,{type:"text",placeholder:b.type_message||"Type a message...",value:n,onChange:a=>o(a.target.value),onKeyDown:a=>{"Enter"!==a.key||a.shiftKey||(a.preventDefault(),w())},className:"flex-1 py-2"}),(0,c.jsx)(p,{variant:"secondary",onClick:()=>i(a.id),className:"h-auto px-3",title:b.take_screenshot||"Take Screenshot",children:(0,c.jsxs)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[(0,c.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),(0,c.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]})}),e&&(0,c.jsx)(F,{onSend:x,maxDuration:60,locale:b}),(0,c.jsx)(p,{variant:"primary",onClick:w,disabled:!n.trim(),className:"h-auto px-4",children:(0,c.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,c.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})})})]}),q&&(0,c.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/90",onClick:()=>s(null),children:(0,c.jsxs)("div",{className:"relative max-w-[90vw] max-h-[90vh]",children:[(0,c.jsx)("img",{src:q,alt:"Screenshot",className:"max-w-full max-h-[90vh] object-contain rounded-lg",onClick:a=>a.stopPropagation()}),(0,c.jsx)("button",{onClick:()=>s(null),className:"absolute -top-3 -right-3 w-8 h-8 bg-bg-card border border-border rounded-full flex items-center justify-center text-text-secondary hover:text-text-primary hover:bg-bg-elevated transition-colors",children:(0,c.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,c.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})})]})}let I={gray:{bg:"bg-gray-500/20",text:"text-gray-400",hover:"hover:bg-gray-500/30"},blue:{bg:"bg-blue-500/20",text:"text-blue-400",hover:"hover:bg-blue-500/30"},orange:{bg:"bg-orange-500/20",text:"text-orange-400",hover:"hover:bg-orange-500/30"},red:{bg:"bg-red-500/20",text:"text-red-400",hover:"hover:bg-red-500/30"}};function J({reportId:a,currentPriority:b}){let[e,f]=(0,d.useState)(!1),g=(0,d.useRef)(null),{priorities:h,locale:i}=k(),{setPriority:l}=m(),n=h.find(a=>a.id===b)||h[0],o=I[n?.color||"gray"];(0,d.useEffect)(()=>{let a=a=>{g.current&&!g.current.contains(a.target)&&f(!1)};return document.addEventListener("mousedown",a),()=>document.removeEventListener("mousedown",a)},[]);let p=a=>i[`priority_${a.toLowerCase()}`]||a;return(0,c.jsxs)("div",{className:"relative",ref:g,children:[(0,c.jsxs)("button",{onClick:()=>f(!e),className:j("flex items-center gap-1.5 px-2 py-1 text-xs font-medium rounded transition-colors border border-transparent",o.bg,o.text,o.hover),children:[(0,c.jsx)("svg",{className:"w-3 h-3 fill-current",viewBox:"0 0 8 8",children:(0,c.jsx)("circle",{cx:"4",cy:"4",r:"3"})}),p(n?.label||"Normal"),(0,c.jsx)("svg",{className:j("w-3 h-3 transition-transform",e&&"rotate-180"),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,c.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),e&&(0,c.jsx)("div",{className:"absolute top-full left-0 mt-1 w-32 bg-bg-card border border-border rounded-lg shadow-lg z-50 overflow-hidden",children:h.map(d=>{let e=I[d.color],g=d.id===b;return(0,c.jsxs)("button",{onClick:()=>{var c;(c=d.id)!==b&&l(a,c),f(!1)},className:j("w-full flex items-center gap-2 px-3 py-2 text-xs text-left transition-colors",g?"bg-bg-tertiary":"hover:bg-bg-tertiary",e.text),children:[(0,c.jsx)("svg",{className:"w-3 h-3 fill-current",viewBox:"0 0 8 8",children:(0,c.jsx)("circle",{cx:"4",cy:"4",r:"3"})}),p(d.label),g&&(0,c.jsx)("svg",{className:"w-3 h-3 ml-auto",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,c.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})]},d.id)})})]})}function K({reportId:a}){let[b,e]=(0,d.useState)(""),[f,g]=(0,d.useState)(!1),{getReportNotes:h,locale:j}=k(),{addReportNote:l,deleteReportNote:n,getReportNotes:o}=m(),q=h(a);return(0,d.useEffect)(()=>{o(a)},[a,o]),(0,c.jsxs)("div",{className:"flex flex-col h-full",children:[(0,c.jsx)("div",{className:"px-4 py-3 border-b border-border",children:(0,c.jsxs)("h3",{className:"text-sm font-semibold text-text-primary flex items-center gap-2",children:[(0,c.jsx)("svg",{className:"w-4 h-4 text-text-tertiary",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,c.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),j.admin_notes||"Admin Notes",(0,c.jsxs)("span",{className:"text-xs text-text-tertiary font-normal",children:["(",j.internal_only||"internal only",")"]})]})}),(0,c.jsx)("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:0===q.length?(0,c.jsx)("p",{className:"text-sm text-text-tertiary text-center py-4",children:j.no_notes||"No notes yet"}):q.map(b=>(0,c.jsxs)("div",{className:"p-3 bg-bg-tertiary rounded-lg group",children:[(0,c.jsxs)("div",{className:"flex items-start justify-between gap-2 mb-2",children:[(0,c.jsx)("span",{className:"text-xs font-medium text-accent",children:b.adminName}),(0,c.jsxs)("div",{className:"flex items-center gap-2",children:[(0,c.jsx)("span",{className:"text-[10px] xl:text-xs text-text-tertiary",children:i(b.createdAt)}),(0,c.jsx)("button",{onClick:()=>{var c;return c=b.id,void(k.getState().removeReportNote(a,c),n(c))},className:"opacity-0 group-hover:opacity-100 text-text-tertiary hover:text-red-400 transition-all",title:j.delete||"Delete",children:(0,c.jsx)("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,c.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]}),(0,c.jsx)("p",{className:"text-sm text-text-secondary whitespace-pre-wrap",children:b.note})]},b.id))}),(0,c.jsx)("form",{onSubmit:c=>{if(c.preventDefault(),!b.trim()||f)return;let d=b.trim();g(!0),e("");let h={id:-Date.now(),reportId:a,adminId:"pending",adminName:"You",note:d,createdAt:new Date().toISOString()};k.getState().addReportNote(h),l(a,d),setTimeout(()=>g(!1),500)},className:"p-4 border-t border-border",children:(0,c.jsxs)("div",{className:"flex gap-2",children:[(0,c.jsx)("textarea",{value:b,onChange:a=>e(a.target.value),placeholder:j.add_note_placeholder||"Add a note...",className:"flex-1 px-3 py-2 text-sm bg-bg-tertiary border border-border rounded-lg resize-none focus:outline-none focus:border-accent text-text-primary placeholder:text-text-tertiary",rows:2,maxLength:1e3}),(0,c.jsx)(p,{type:"submit",size:"sm",variant:"primary",disabled:!b.trim()||f,children:(0,c.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,c.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})})]})})]})}let L=[{key:"license",label:"License",localeKey:"identifier_license"},{key:"steam",label:"Steam",localeKey:"identifier_steam"},{key:"discord",label:"Discord",localeKey:"identifier_discord"},{key:"fivem",label:"FiveM",localeKey:"identifier_fivem"}];function M({identifier:a,label:b,copyHint:e,onClose:f}){let g=(0,d.useRef)(null);return(0,d.useEffect)(()=>{g.current&&(g.current.focus(),g.current.select())},[]),(0,c.jsx)("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-[60]",onClick:f,children:(0,c.jsxs)("div",{className:"bg-bg-secondary border border-border rounded-lg p-4 w-full max-w-md shadow-xl",onClick:a=>a.stopPropagation(),children:[(0,c.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,c.jsx)("span",{className:"text-sm font-medium text-text-primary",children:b}),(0,c.jsx)("button",{onClick:f,className:"text-text-tertiary hover:text-text-primary transition-colors",children:(0,c.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,c.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,c.jsx)("input",{ref:g,type:"text",value:a,readOnly:!0,className:"w-full px-3 py-2 text-sm font-mono bg-bg-tertiary border border-border rounded-lg text-text-primary focus:outline-none focus:border-accent select-all",onFocus:a=>a.target.select()}),(0,c.jsx)("p",{className:"text-xs text-text-tertiary mt-2 text-center",children:e})]})})}function N({playerId:a,playerName:b,onClose:e}){let[f,g]=(0,d.useState)("history"),[j,l]=(0,d.useState)(""),[n,o]=(0,d.useState)(!1),[q,r]=(0,d.useState)(null),{playerHistory:s,locale:t,categories:u}=k(),{getPlayerHistory:v,addPlayerNote:w,deletePlayerNote:y}=m();return(0,d.useEffect)(()=>{v(a)},[a,v]),(0,c.jsxs)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:e,children:[(0,c.jsxs)("div",{className:"bg-bg-secondary border border-border rounded-xl w-full max-w-4xl xl:max-w-5xl 2xl:max-w-7xl max-h-[80vh] flex flex-col shadow-xl",onClick:a=>a.stopPropagation(),children:[(0,c.jsxs)("div",{className:"flex items-center justify-between px-6 py-4 border-b border-border",children:[(0,c.jsxs)("div",{className:"flex items-center gap-3",children:[(0,c.jsx)("div",{className:"w-10 h-10 bg-accent/20 rounded-full flex items-center justify-center",children:(0,c.jsx)("svg",{className:"w-5 h-5 text-accent",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,c.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),(0,c.jsxs)("div",{children:[(0,c.jsx)("h2",{className:"text-lg font-semibold text-text-primary",children:b}),(0,c.jsx)("p",{className:"text-xs text-text-tertiary font-mono",children:a})]})]}),(0,c.jsx)("button",{onClick:e,className:"text-text-tertiary hover:text-text-primary transition-colors",children:(0,c.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,c.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),s?.identifiers&&Object.keys(s.identifiers).length>0&&(0,c.jsx)("div",{className:"px-6 py-3 border-b border-border bg-bg-tertiary/30",children:(0,c.jsx)("div",{className:"grid grid-cols-2 xl:grid-cols-4 gap-2",children:L.map(({key:a,label:b,localeKey:d})=>{let e=s.identifiers?.[a];if(!e)return null;let f=t[d]||b;return(0,c.jsxs)("button",{onClick:()=>r({value:e,label:f}),className:"flex items-center gap-2 px-3 py-2 bg-bg-card hover:bg-bg-elevated border border-border rounded-lg transition-colors group text-left",title:e,children:[(0,c.jsx)("span",{className:"text-xs font-medium text-text-tertiary min-w-[52px]",children:f}),(0,c.jsx)("span",{className:"flex-1 text-xs text-text-secondary font-mono truncate",children:e.length<=20?e:e.substring(0,17)+"..."}),(0,c.jsx)("svg",{className:"w-4 h-4 text-text-tertiary group-hover:text-text-secondary flex-shrink-0 transition-colors",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,c.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})]},a)})})}),s&&(0,c.jsxs)("div",{className:"flex items-center gap-6 px-6 py-3 border-b border-border bg-bg-tertiary/50",children:[(0,c.jsxs)("div",{className:"text-center",children:[(0,c.jsx)("p",{className:"text-2xl font-bold text-text-primary",children:s.totalReports}),(0,c.jsx)("p",{className:"text-xs text-text-tertiary",children:t.total_reports||"Total Reports"})]}),(0,c.jsxs)("div",{className:"text-center",children:[(0,c.jsx)("p",{className:"text-2xl font-bold text-warning",children:s.openReports}),(0,c.jsx)("p",{className:"text-xs text-text-tertiary",children:t.open_reports||"Open"})]}),(0,c.jsxs)("div",{className:"text-center",children:[(0,c.jsx)("p",{className:"text-2xl font-bold text-success",children:s.resolvedReports}),(0,c.jsx)("p",{className:"text-xs text-text-tertiary",children:t.resolved_reports||"Resolved"})]}),(0,c.jsxs)("div",{className:"text-center",children:[(0,c.jsx)("p",{className:"text-2xl font-bold text-accent",children:s.notes?.length||0}),(0,c.jsx)("p",{className:"text-xs text-text-tertiary",children:t.notes||"Notes"})]})]}),(0,c.jsxs)("div",{className:"flex border-b border-border",children:[(0,c.jsx)("button",{onClick:()=>g("history"),className:`flex-1 px-4 py-3 text-sm font-medium transition-colors border-b-2 -mb-px ${"history"===f?"border-accent text-text-primary":"border-transparent text-text-tertiary hover:text-text-secondary"}`,children:(0,c.jsxs)("span",{className:"flex items-center justify-center gap-2",children:[(0,c.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,c.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),t.report_history||"Report History"]})}),(0,c.jsx)("button",{onClick:()=>g("notes"),className:`flex-1 px-4 py-3 text-sm font-medium transition-colors border-b-2 -mb-px ${"notes"===f?"border-accent text-text-primary":"border-transparent text-text-tertiary hover:text-text-secondary"}`,children:(0,c.jsxs)("span",{className:"flex items-center justify-center gap-2",children:[(0,c.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,c.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),t.player_notes||"Player Notes"]})})]}),(0,c.jsx)("div",{className:"flex-1 overflow-y-auto",children:"history"===f?(0,c.jsx)("div",{className:"p-4 space-y-3",children:s&&0!==s.reports.length?s.reports.map(a=>{var b;let d;return(0,c.jsxs)("div",{className:"p-4 bg-bg-card border border-border rounded-lg",children:[(0,c.jsxs)("div",{className:"flex items-start justify-between gap-3 mb-2",children:[(0,c.jsxs)("div",{className:"flex items-center gap-2",children:[(0,c.jsxs)("span",{className:"font-mono text-xs text-text-tertiary",children:["#",a.id]}),(0,c.jsx)(x,{variant:(a=>{switch(a){case"open":return"open";case"claimed":return"claimed";case"resolved":return"resolved";default:return"default"}})(a.status),children:t[`status_${a.status}`]||a.status}),(0,c.jsx)(B,{priority:a.priority,size:"sm"})]}),(0,c.jsx)("span",{className:"text-xs text-text-tertiary",children:i(a.createdAt)})]}),(0,c.jsx)("h4",{className:"text-sm font-medium text-text-primary mb-1",children:a.subject}),(0,c.jsxs)("div",{className:"flex items-center gap-3 text-xs text-text-tertiary",children:[(0,c.jsx)("span",{className:"px-2 py-0.5 bg-bg-elevated rounded",children:(b=a.category,d=u.find(a=>a.id===b),d?.label||b)}),a.claimedByName&&(0,c.jsxs)("span",{className:"flex items-center gap-1",children:[(0,c.jsx)("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,c.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),a.claimedByName]}),a.resolvedAt&&(0,c.jsxs)("span",{children:[t.resolved_at||"Resolved",": ",h(a.resolvedAt)]})]})]},a.id)}):(0,c.jsx)("p",{className:"text-sm text-text-tertiary text-center py-8",children:t.no_report_history||"No report history"})}):(0,c.jsxs)("div",{className:"flex flex-col h-full",children:[(0,c.jsx)("div",{className:"flex-1 p-4 space-y-3 overflow-y-auto",children:s&&0!==s.notes.length?s.notes.map(b=>(0,c.jsxs)("div",{className:"p-3 bg-bg-tertiary rounded-lg group",children:[(0,c.jsxs)("div",{className:"flex items-start justify-between gap-2 mb-2",children:[(0,c.jsx)("span",{className:"text-xs font-medium text-accent",children:b.adminName}),(0,c.jsxs)("div",{className:"flex items-center gap-2",children:[(0,c.jsx)("span",{className:"text-[10px] xl:text-xs text-text-tertiary",children:i(b.createdAt)}),(0,c.jsx)("button",{onClick:()=>{var c;return c=b.id,void(s&&k.getState().setPlayerHistory({...s,notes:s.notes.filter(a=>a.id!==c)}),k.getState().removePlayerNote(a,c),y(c))},className:"opacity-0 group-hover:opacity-100 text-text-tertiary hover:text-red-400 transition-all",title:t.delete||"Delete",children:(0,c.jsx)("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,c.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]}),(0,c.jsx)("p",{className:"text-sm text-text-secondary whitespace-pre-wrap",children:b.note})]},b.id)):(0,c.jsx)("p",{className:"text-sm text-text-tertiary text-center py-8",children:t.no_player_notes||"No notes for this player"})}),(0,c.jsx)("form",{onSubmit:b=>{if(b.preventDefault(),!j.trim()||n)return;let c=j.trim();o(!0),l("");let d={id:-Date.now(),playerId:a,adminId:"pending",adminName:"You",note:c,createdAt:new Date().toISOString()};s&&k.getState().setPlayerHistory({...s,notes:[d,...s.notes]}),w(a,c),setTimeout(()=>o(!1),500)},className:"p-4 border-t border-border",children:(0,c.jsxs)("div",{className:"flex gap-2",children:[(0,c.jsx)("textarea",{value:j,onChange:a=>l(a.target.value),placeholder:t.add_player_note_placeholder||"Add a note about this player...",className:"flex-1 px-3 py-2 text-sm bg-bg-tertiary border border-border rounded-lg resize-none focus:outline-none focus:border-accent text-text-primary placeholder:text-text-tertiary",rows:2,maxLength:1e3}),(0,c.jsx)(p,{type:"submit",size:"sm",variant:"primary",disabled:!j.trim()||n,children:(0,c.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,c.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})})]})})]})})]}),q&&(0,c.jsx)(M,{identifier:q.value,label:q.label,copyHint:t.copy_hint||"Ctrl+C to copy",onClose:()=>r(null)})]})}function O({isOpen:a,onClose:b,reportId:e,item:f,action:g,itemList:h}){let{locale:i}=k(),{addInventoryItem:j,removeInventoryItem:l,setInventoryItemCount:n,setInventoryItemMetadata:o}=m(),[q,r]=(0,d.useState)(f?.name||""),[s,t]=(0,d.useState)(f?.count||1),[u,v]=(0,d.useState)(f?.metadata?JSON.stringify(f.metadata,null,2):"{}"),[w,x]=(0,d.useState)("");if(!a)return null;let y=Object.entries(h).filter(([a,b])=>a.toLowerCase().includes(w.toLowerCase())||b.label.toLowerCase().includes(w.toLowerCase()));return(0,c.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:(0,c.jsxs)("div",{className:"bg-bg-secondary border border-border rounded-lg p-6 w-[400px] max-h-[80vh] overflow-y-auto",children:[(0,c.jsx)("h3",{className:"text-lg font-semibold text-text-primary mb-4",children:(()=>{switch(g){case"add":return i.item_add||"Add Item";case"remove":return i.item_remove||"Remove Item";case"set":return i.item_set_count||"Set Count";case"metadata":return i.item_edit_metadata||"Edit Metadata"}})()}),"metadata"!==g&&(0,c.jsxs)(c.Fragment,{children:[!f&&(0,c.jsxs)("div",{className:"mb-4",children:[(0,c.jsx)("label",{className:"block text-sm text-text-secondary mb-2",children:i.item_select||"Select Item"}),(0,c.jsx)("input",{type:"text",className:"w-full px-3 py-2 bg-bg-tertiary border border-border rounded-lg text-text-primary text-sm mb-2",placeholder:i.item_search||"Search items...",value:w,onChange:a=>x(a.target.value)}),(0,c.jsx)("div",{className:"max-h-40 overflow-y-auto bg-bg-tertiary border border-border rounded-lg",children:y.slice(0,50).map(([a,b])=>(0,c.jsxs)("button",{className:`w-full px-3 py-2 text-left text-sm hover:bg-bg-secondary transition-colors flex items-center gap-2 ${q===a?"bg-accent/20 text-accent":"text-text-primary"}`,onClick:()=>r(a),children:[b.image&&(0,c.jsx)("img",{src:b.image,alt:b.label,className:"w-6 h-6 object-contain",onError:a=>{a.target.style.display="none"}}),(0,c.jsx)("span",{className:"font-medium",children:b.label}),(0,c.jsxs)("span",{className:"text-text-tertiary ml-auto",children:["(",a,")"]})]},a))})]}),(f||q)&&(0,c.jsxs)("div",{className:"mb-4 p-2 bg-bg-tertiary rounded-lg flex items-center gap-2",children:[(f?.image||h[q]?.image)&&(0,c.jsx)("img",{src:f?.image||h[q]?.image,alt:f?.label||h[q]?.label||q,className:"w-8 h-8 object-contain",onError:a=>{a.target.style.display="none"}}),(0,c.jsx)("span",{className:"text-text-primary text-sm",children:f?.label||h[q]?.label||q})]}),(0,c.jsxs)("div",{className:"mb-4",children:[(0,c.jsx)("label",{className:"block text-sm text-text-secondary mb-2",children:i.item_count||"Count"}),(0,c.jsx)("input",{type:"number",className:"w-full px-3 py-2 bg-bg-tertiary border border-border rounded-lg text-text-primary text-sm",value:s,onChange:a=>t(Math.max(+("set"!==g),parseInt(a.target.value)||0)),min:+("set"!==g),max:1e3})]}),"add"===g&&(0,c.jsxs)("div",{className:"mb-4",children:[(0,c.jsxs)("label",{className:"block text-sm text-text-secondary mb-2",children:[i.item_metadata||"Metadata"," (JSON, optional)"]}),(0,c.jsx)("textarea",{className:"w-full px-3 py-2 bg-bg-tertiary border border-border rounded-lg text-text-primary text-sm font-mono h-24",value:u,onChange:a=>v(a.target.value),placeholder:"{}"})]})]}),"metadata"===g&&(0,c.jsxs)("div",{className:"mb-4",children:[(0,c.jsxs)("label",{className:"block text-sm text-text-secondary mb-2",children:[i.item_metadata||"Metadata"," (JSON)"]}),(0,c.jsx)("textarea",{className:"w-full px-3 py-2 bg-bg-tertiary border border-border rounded-lg text-text-primary text-sm font-mono h-48",value:u,onChange:a=>v(a.target.value)})]}),(0,c.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,c.jsx)(p,{variant:"ghost",size:"sm",onClick:b,children:i.cancel||"Cancel"}),(0,c.jsx)(p,{variant:"remove"===g?"danger":"primary",size:"sm",onClick:()=>{if(q||"metadata"===g){switch(g){case"add":try{let a="{}"!==u?JSON.parse(u):void 0;j(e,q,s,a)}catch{j(e,q,s)}break;case"remove":l(e,q,s,f?.slot);break;case"set":n(e,q,s);break;case"metadata":if(f?.slot)try{let a=JSON.parse(u);o(e,f.slot,a)}catch{return}}b()}},disabled:!q&&"metadata"!==g,children:i.confirm||"Confirm"})]})]})})}function P({reportId:a,isPlayerOnline:b}){let{locale:e,getInventory:f,setInventoryLoading:g}=k(),{getPlayerInventory:h}=m(),[i,j]=(0,d.useState)({isOpen:!1,action:"add"}),[l,n]=(0,d.useState)(""),o=f(a);(0,d.useEffect)(()=>{b&&!o&&(g(a,!0),h(a))},[a,b,o,h,g]);let q=(a,b)=>{j({isOpen:!0,action:a,item:b})},r=o?.items?.filter(a=>a.name.toLowerCase().includes(l.toLowerCase())||a.label.toLowerCase().includes(l.toLowerCase()))||[];return b?o?.loading?(0,c.jsxs)("div",{className:"flex-1 flex flex-col items-center justify-center text-text-tertiary p-6",children:[(0,c.jsxs)("svg",{className:"w-8 h-8 animate-spin mb-3",fill:"none",viewBox:"0 0 24 24",children:[(0,c.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,c.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,c.jsx)("p",{className:"text-sm",children:e.inventory_loading||"Loading inventory..."})]}):(0,c.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden",children:[(0,c.jsxs)("div",{className:"px-4 py-3 border-b border-border flex items-center justify-between",children:[(0,c.jsxs)("div",{className:"flex items-center gap-2",children:[(0,c.jsx)("h3",{className:"text-sm font-medium text-text-primary",children:e.inventory||"Inventory"}),o?.systemName&&(0,c.jsx)("span",{className:"text-xs text-text-tertiary px-2 py-0.5 bg-bg-tertiary rounded",children:o.systemName})]}),(0,c.jsxs)("div",{className:"flex items-center gap-2",children:[(0,c.jsx)(p,{variant:"ghost",size:"sm",onClick:()=>{g(a,!0),h(a)},children:(0,c.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,c.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}),(0,c.jsxs)(p,{variant:"primary",size:"sm",onClick:()=>q("add"),children:[(0,c.jsx)("svg",{className:"w-4 h-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,c.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),e.item_add||"Add"]})]})]}),(0,c.jsx)("div",{className:"px-4 py-2 border-b border-border",children:(0,c.jsx)("input",{type:"text",className:"w-full px-3 py-1.5 bg-bg-tertiary border border-border rounded text-text-primary text-sm",placeholder:e.item_search||"Search items...",value:l,onChange:a=>n(a.target.value)})}),(0,c.jsx)("div",{className:"flex-1 overflow-y-auto p-4",children:0===r.length?(0,c.jsxs)("div",{className:"flex flex-col items-center justify-center h-full text-text-tertiary",children:[(0,c.jsx)("svg",{className:"w-10 h-10 mb-2 opacity-30",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,c.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})}),(0,c.jsx)("p",{className:"text-sm",children:e.inventory_empty||"Player inventory is empty"})]}):(0,c.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-2",children:r.map((a,b)=>(0,c.jsxs)("div",{className:"bg-bg-tertiary border border-border rounded-lg p-3 hover:border-accent/50 transition-colors group",children:[(0,c.jsxs)("div",{className:"flex gap-2 mb-2",children:[a.image&&(0,c.jsx)("div",{className:"w-10 h-10 flex-shrink-0 bg-bg-secondary rounded overflow-hidden",children:(0,c.jsx)("img",{src:a.image,alt:a.label,className:"w-full h-full object-contain",onError:a=>{a.target.style.display="none"}})}),(0,c.jsxs)("div",{className:"flex-1 min-w-0 flex justify-between items-start",children:[(0,c.jsxs)("div",{className:"min-w-0",children:[(0,c.jsx)("p",{className:"text-sm font-medium text-text-primary truncate",children:a.label}),(0,c.jsx)("p",{className:"text-xs text-text-tertiary truncate",children:a.name})]}),(0,c.jsxs)("span",{className:"text-sm font-bold text-accent ml-2",children:["x",a.count]})]})]}),(0,c.jsxs)("div",{className:"text-xs text-text-tertiary space-y-0.5 mb-2",children:[a.slot&&(0,c.jsxs)("p",{children:["Slot: ",a.slot]}),a.weight&&(0,c.jsxs)("p",{children:["Weight: ",a.weight]}),a.metadata&&Object.keys(a.metadata).length>0&&(0,c.jsx)("p",{className:"text-accent",children:"Has metadata"})]}),(0,c.jsxs)("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[(0,c.jsx)("button",{className:"flex-1 px-2 py-1 text-xs bg-green-600/20 text-green-400 hover:bg-green-600/30 rounded transition-colors",onClick:()=>q("add",a),title:e.item_add||"Add",children:"+"}),(0,c.jsx)("button",{className:"flex-1 px-2 py-1 text-xs bg-red-600/20 text-red-400 hover:bg-red-600/30 rounded transition-colors",onClick:()=>q("remove",a),title:e.item_remove||"Remove",children:"-"}),(0,c.jsx)("button",{className:"flex-1 px-2 py-1 text-xs bg-blue-600/20 text-blue-400 hover:bg-blue-600/30 rounded transition-colors",onClick:()=>q("set",a),title:e.item_set_count||"Set",children:"="}),o?.supportsMetadata&&a.slot&&(0,c.jsx)("button",{className:"flex-1 px-2 py-1 text-xs bg-purple-600/20 text-purple-400 hover:bg-purple-600/30 rounded transition-colors",onClick:()=>q("metadata",a),title:e.item_edit_metadata||"Metadata",children:"{ }"})]})]},`${a.name}-${a.slot||b}`))})}),(0,c.jsxs)("div",{className:"px-4 py-2 border-t border-border text-xs text-text-tertiary",children:[r.length," ",e.inventory_items||"items",o?.items&&r.length!==o.items.length&&(0,c.jsxs)("span",{children:[" (",e.filter||"filtered",": ",o.items.length," total)"]})]}),i.isOpen&&(0,c.jsx)(O,{isOpen:i.isOpen,onClose:()=>{j({isOpen:!1,action:"add"})},reportId:a,item:i.item,action:i.action,itemList:o?.itemList||{}},`${i.action}-${i.item?.name||"new"}-${i.item?.slot||0}`)]}):(0,c.jsxs)("div",{className:"flex-1 flex flex-col items-center justify-center text-text-tertiary p-6",children:[(0,c.jsx)("svg",{className:"w-12 h-12 mb-3 opacity-30",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,c.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})}),(0,c.jsx)("p",{className:"text-sm",children:e.inventory_player_offline||"Cannot view inventory - player is offline"})]})}function Q(){let{getSelectedReport:a,playerData:b,categories:e,locale:f,activeTab:g}=k(),[i,j]=(0,d.useState)("report"),[l,n]=(0,d.useState)("chat"),[o,q]=(0,d.useState)(!1),{claimReport:r,unclaimReport:s,resolveReport:t,deleteReport:u,adminAction:v}=m(),w=a();if(!w)return(0,c.jsxs)("div",{className:"flex-1 flex flex-col items-center justify-center text-text-tertiary",children:[(0,c.jsx)("svg",{className:"w-16 h-16 mb-4 opacity-20",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,c.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M15 5v2m0 4v2m0 4v2M5 5a2 2 0 00-2 2v3a2 2 0 110 4v3a2 2 0 002 2h14a2 2 0 002-2v-3a2 2 0 110-4V7a2 2 0 00-2-2H5z"})}),(0,c.jsx)("p",{className:"text-sm",children:f.select_report||"Select a report to view details"})]});let y=e.find(a=>a.id===w.category),z=b?.isAdmin,A=w.playerId===b?.identifier,C="claimed"===w.status,D="resolved"===w.status,E=w.claimedBy===b?.identifier,F=A&&!C||z;return(0,c.jsxs)("main",{className:"flex-1 flex flex-col overflow-hidden",children:[(0,c.jsxs)("div",{className:"px-6 py-4 border-b border-border",children:[(0,c.jsxs)("div",{className:"flex items-center gap-3 px-3 py-2 mb-3 bg-bg-tertiary/50 rounded-lg",children:[(0,c.jsxs)("span",{className:"font-mono text-xs text-text-tertiary",children:["#",w.id]}),(0,c.jsx)(x,{variant:(()=>{switch(w.status){case"open":return"open";case"claimed":return"claimed";case"resolved":return"resolved";default:return"default"}})(),children:f[`status_${w.status}`]||w.status}),z&&"admin"===g?(0,c.jsx)(J,{reportId:w.id,currentPriority:w.priority}):(0,c.jsx)(B,{priority:w.priority})]}),(0,c.jsx)("h2",{className:"text-lg font-semibold text-text-primary mb-2",children:w.subject}),(0,c.jsxs)("div",{className:"flex flex-wrap items-center gap-3 text-sm text-text-secondary",children:[z&&"admin"===g?(0,c.jsxs)("button",{onClick:()=>q(!0),className:"flex items-center gap-1.5 hover:text-accent transition-colors",children:[(0,c.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,c.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),w.playerName,(0,c.jsx)("span",{className:`w-2 h-2 rounded-full ${w.isPlayerOnline?"bg-green-500":"bg-red-500"}`,title:w.isPlayerOnline?"Online":"Offline"}),(0,c.jsx)("svg",{className:"w-3 h-3 ml-0.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,c.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})]}):(0,c.jsxs)("span",{className:"flex items-center gap-1.5",children:[(0,c.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,c.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),w.playerName,(0,c.jsx)("span",{className:`w-2 h-2 rounded-full ${w.isPlayerOnline?"bg-green-500":"bg-red-500"}`,title:w.isPlayerOnline?"Online":"Offline"})]}),y&&(0,c.jsxs)("span",{className:"flex items-center gap-1.5",children:[(0,c.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,c.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})}),y.label]}),(0,c.jsxs)("span",{className:"flex items-center gap-1.5",children:[(0,c.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,c.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),h(w.createdAt)]}),w.claimedByName&&(0,c.jsxs)("span",{className:"flex items-center gap-1.5 text-warning",children:[(0,c.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,c.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),w.claimedByName]})]})]}),o&&(0,c.jsx)(N,{playerId:w.playerId,playerName:w.playerName,onClose:()=>q(!1)}),w.description&&(0,c.jsx)("div",{className:"px-6 py-3 border-b border-border",children:(0,c.jsx)("div",{className:"p-3 bg-bg-card border border-border rounded-lg max-h-[100px] xl:max-h-[140px] 2xl:max-h-[180px] overflow-y-auto",children:(0,c.jsx)("p",{className:"text-sm text-text-secondary leading-relaxed whitespace-pre-wrap",children:w.description})})}),z&&"admin"===g?(0,c.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden",children:[(0,c.jsxs)("div",{className:"flex border-b border-border",children:[(0,c.jsx)("button",{onClick:()=>n("chat"),className:`px-4 py-2 text-xs font-medium transition-colors border-b-2 -mb-px ${"chat"===l?"border-accent text-text-primary":"border-transparent text-text-tertiary hover:text-text-secondary"}`,children:f.chat||"Chat"}),(0,c.jsx)("button",{onClick:()=>n("notes"),className:`px-4 py-2 text-xs font-medium transition-colors border-b-2 -mb-px ${"notes"===l?"border-accent text-text-primary":"border-transparent text-text-tertiary hover:text-text-secondary"}`,children:f.admin_notes||"Notes"}),(0,c.jsx)("button",{onClick:()=>n("inventory"),className:`px-4 py-2 text-xs font-medium transition-colors border-b-2 -mb-px ${"inventory"===l?"border-accent text-text-primary":"border-transparent text-text-tertiary hover:text-text-secondary"}`,children:f.inventory||"Inventory"})]}),"chat"===l?(0,c.jsx)(H,{report:w}):"notes"===l?(0,c.jsx)(K,{reportId:w.id}):(0,c.jsx)(P,{reportId:w.id,isPlayerOnline:w.isPlayerOnline})]}):(0,c.jsx)(H,{report:w}),!D&&(0,c.jsxs)("div",{className:"bg-bg-secondary border-t border-border",children:[z&&"admin"===g&&(0,c.jsxs)("div",{className:"flex flex-col",children:[(0,c.jsxs)("div",{className:"flex items-center justify-center gap-0 border-b border-border",children:[(0,c.jsx)("button",{onClick:()=>j("report"),className:`px-4 py-2 text-xs font-medium transition-colors border-b-2 -mb-px ${"report"===i?"border-accent text-text-primary bg-bg-secondary":"border-transparent text-text-tertiary hover:text-text-secondary"}`,children:f.report||"Report"}),(0,c.jsx)("button",{onClick:()=>j("player"),className:`px-4 py-2 text-xs font-medium transition-colors border-b-2 -mb-px ${"player"===i?"border-accent text-text-primary bg-bg-secondary":"border-transparent text-text-tertiary hover:text-text-secondary"}`,children:f.player||"Player"}),(0,c.jsx)("button",{onClick:()=>j("moderation"),className:`px-4 py-2 text-xs font-medium transition-colors border-b-2 -mb-px ${"moderation"===i?"border-accent text-text-primary bg-bg-secondary":"border-transparent text-text-tertiary hover:text-text-secondary"}`,children:f.moderation||"Moderation"})]}),(0,c.jsxs)("div",{className:"flex items-center justify-center gap-2 px-6 py-3",children:["report"===i&&(0,c.jsxs)(c.Fragment,{children:[C?E&&(0,c.jsx)(p,{size:"sm",variant:"ghost",onClick:()=>s(w.id),children:f.unclaim_report||"Unclaim"}):(0,c.jsxs)(p,{size:"sm",variant:"primary",onClick:()=>r(w.id),children:[(0,c.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,c.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 11.5V14m0-2.5v-6a1.5 1.5 0 113 0m-3 6a1.5 1.5 0 00-3 0v2a7.5 7.5 0 0015 0v-5a1.5 1.5 0 00-3 0m-6-3V11m0-5.5v-1a1.5 1.5 0 013 0v1m0 0V11m0-5.5a1.5 1.5 0 013 0v3m0 0V11"})}),f.claim_report||"Claim"]}),(0,c.jsxs)(p,{size:"sm",variant:"success",onClick:()=>t(w.id),children:[(0,c.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,c.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),f.resolve_report||"Resolve"]}),F&&(0,c.jsxs)(p,{size:"sm",variant:"danger",onClick:()=>u(w.id),children:[(0,c.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,c.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),f.delete||"Delete"]})]}),"player"===i&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)(p,{size:"sm",variant:"ghost",onClick:()=>v(w.id,"teleport_to"),children:[(0,c.jsxs)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[(0,c.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),(0,c.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),f.teleport_to||"Goto"]}),(0,c.jsxs)(p,{size:"sm",variant:"ghost",onClick:()=>v(w.id,"bring_player"),children:[(0,c.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,c.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})}),f.bring_player||"Bring"]}),(0,c.jsxs)(p,{size:"sm",variant:"ghost",onClick:()=>v(w.id,"heal_player"),children:[(0,c.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,c.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}),f.heal_player||"Heal"]}),(0,c.jsxs)(p,{size:"sm",variant:"ghost",onClick:()=>v(w.id,"revive_player"),children:[(0,c.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,c.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),f.revive_player||"Revive"]})]}),"moderation"===i&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)(p,{size:"sm",variant:"ghost",onClick:()=>v(w.id,"freeze_player"),children:[(0,c.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,c.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707"})}),f.freeze_player||"Freeze"]}),(0,c.jsxs)(p,{size:"sm",variant:"ghost",onClick:()=>v(w.id,"spectate_player"),children:[(0,c.jsxs)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[(0,c.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,c.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),f.spectate_player||"Spectate"]}),(0,c.jsxs)(p,{size:"sm",variant:"ghost",onClick:()=>v(w.id,"ragdoll_player"),children:[(0,c.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,c.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14.828 14.828a4 4 0 01-5.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),f.ragdoll_player||"Ragdoll"]}),(0,c.jsxs)(p,{size:"sm",variant:"ghost",onClick:()=>v(w.id,"screenshot_player"),children:[(0,c.jsxs)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[(0,c.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),(0,c.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]}),f.screenshot_player||"Screenshot"]}),(0,c.jsxs)(p,{size:"sm",variant:"danger",onClick:()=>v(w.id,"kick_player"),children:[(0,c.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,c.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),f.kick_player||"Kick"]})]})]})]}),!z&&F&&(0,c.jsx)("div",{className:"px-6 py-3",children:(0,c.jsxs)(p,{size:"sm",variant:"danger",onClick:()=>u(w.id),children:[(0,c.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,c.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),f.delete||"Delete"]})})]})]})}let R="#3b82f6",S="#22c55e",T="#eab308",U="#a855f7",V="#06b6d4",W=["#6b7280","#3b82f6","#eab308","#ef4444"],X=[R,S,T,U,V];function Y({data:a,size:b=120}){let e=a.reduce((a,b)=>a+b.value,0),f=(0,d.useMemo)(()=>{if(0===e)return null;let b=0;return a.map(a=>{let c=a.value/e*100,d=b;return b+=c,`${a.color} ${d}% ${b}%`}).join(", ")},[a,e]);return 0===e?(0,c.jsx)("div",{className:"rounded-full bg-bg-elevated flex items-center justify-center text-text-muted text-xs",style:{width:b,height:b},children:"No data"}):(0,c.jsx)("div",{className:"rounded-full",style:{width:b,height:b,background:`conic-gradient(${f})`}})}function Z({data:a,maxValue:b}){let d=b||Math.max(...a.map(a=>a.value),1);return(0,c.jsx)("div",{className:"space-y-2",children:a.map((a,b)=>(0,c.jsxs)("div",{className:"flex items-center gap-3",children:[(0,c.jsx)("span",{className:"text-xs text-text-secondary w-20 truncate",title:a.label,children:a.label}),(0,c.jsx)("div",{className:"flex-1 h-6 bg-bg-elevated rounded overflow-hidden",children:(0,c.jsx)("div",{className:"h-full rounded transition-all duration-500 flex items-center justify-end pr-2",style:{width:`${a.value/d*100}%`,backgroundColor:a.color||R,minWidth:a.value>0?"24px":"0"},children:(0,c.jsx)("span",{className:"text-xs font-medium text-white drop-shadow",children:a.value})})})]},b))})}function $({label:a,value:b,icon:d,color:e=R,subtext:f}){return(0,c.jsx)("div",{className:"bg-bg-card rounded-lg p-4 border border-border",children:(0,c.jsxs)("div",{className:"flex items-center gap-3",children:[(0,c.jsx)("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center",style:{backgroundColor:`${e}20`},children:(0,c.jsx)("div",{style:{color:e},children:d})}),(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{className:"text-2xl font-bold text-text-primary",children:b}),(0,c.jsx)("p",{className:"text-xs text-text-secondary",children:a}),f&&(0,c.jsx)("p",{className:"text-[10px] text-text-muted",children:f})]})]})})}function _(){let a,{statistics:b,locale:e}=k(),{getStatistics:f}=m();if((0,d.useEffect)(()=>{f()},[f]),!b)return(0,c.jsxs)("div",{className:"flex-1 flex items-center justify-center text-text-muted",children:[(0,c.jsxs)("svg",{className:"w-6 h-6 animate-spin mr-2",fill:"none",viewBox:"0 0 24 24",children:[(0,c.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,c.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),e.loading||"Loading..."]});let g=[{label:e.status_open||"Open",value:b.openReports,color:T},{label:e.status_claimed||"Claimed",value:b.claimedReports,color:R},{label:e.status_resolved||"Resolved",value:b.resolvedReports,color:S}],h=b.reportsByCategory.map((a,b)=>({label:e[`category_${a.category}`]||a.category,value:a.count,color:X[b%X.length]})),i=b.reportsByPriority.map(a=>({label:[e.low||"Low",e.normal||"Normal",e.high||"High",e.urgent||"Urgent"][a.priority],value:a.count,color:W[a.priority]})),j=b.adminLeaderboard.map((a,b)=>({label:a.adminName,value:a.resolved,color:[R,S,T,U,V][b%5]}));return(0,c.jsx)("div",{className:"flex-1 overflow-y-auto p-6",children:(0,c.jsxs)("div",{className:"max-w-6xl mx-auto space-y-6",children:[(0,c.jsxs)("div",{className:"grid grid-cols-2 xl:grid-cols-4 gap-4",children:[(0,c.jsx)($,{label:e.total_reports||"Total Reports",value:b.totalReports,color:R,icon:(0,c.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,c.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),(0,c.jsx)($,{label:e.status_open||"Open",value:b.openReports,color:T,icon:(0,c.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,c.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,c.jsx)($,{label:e.status_claimed||"Claimed",value:b.claimedReports,color:R,icon:(0,c.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,c.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),(0,c.jsx)($,{label:e.status_resolved||"Resolved",value:b.resolvedReports,color:S,subtext:b.avgResolutionTime>0?`${e.avg_time||"Avg"}: ${(a=>{if(a<60)return`${Math.round(a)}m`;let b=Math.floor(a/60),c=Math.round(a%60);return`${b}h ${c}m`})(b.avgResolutionTime)}`:void 0,icon:(0,c.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,c.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})})]}),(0,c.jsxs)("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-6",children:[(0,c.jsxs)("div",{className:"bg-bg-card rounded-lg p-5 border border-border",children:[(0,c.jsx)("h3",{className:"text-sm font-semibold text-text-primary mb-4",children:e.reports_by_status||"Reports by Status"}),(0,c.jsxs)("div",{className:"flex items-center gap-6",children:[(0,c.jsx)(Y,{data:g,size:100}),(0,c.jsx)("div",{className:"space-y-2",children:g.map(a=>(0,c.jsxs)("div",{className:"flex items-center gap-2",children:[(0,c.jsx)("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:a.color}}),(0,c.jsx)("span",{className:"text-xs text-text-secondary",children:a.label}),(0,c.jsx)("span",{className:"text-xs font-medium text-text-primary ml-auto",children:a.value})]},a.label))})]})]}),(0,c.jsxs)("div",{className:"bg-bg-card rounded-lg p-5 border border-border",children:[(0,c.jsx)("h3",{className:"text-sm font-semibold text-text-primary mb-4",children:e.reports_by_category||"Reports by Category"}),(0,c.jsxs)("div",{className:"flex items-center gap-6",children:[(0,c.jsx)(Y,{data:h,size:100}),(0,c.jsx)("div",{className:"space-y-2 flex-1",children:h.map(a=>(0,c.jsxs)("div",{className:"flex items-center gap-2",children:[(0,c.jsx)("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:a.color}}),(0,c.jsx)("span",{className:"text-xs text-text-secondary truncate",children:a.label}),(0,c.jsx)("span",{className:"text-xs font-medium text-text-primary ml-auto",children:a.value})]},a.label))})]})]}),(0,c.jsxs)("div",{className:"bg-bg-card rounded-lg p-5 border border-border",children:[(0,c.jsx)("h3",{className:"text-sm font-semibold text-text-primary mb-4",children:e.reports_by_priority||"Reports by Priority"}),(0,c.jsx)(Z,{data:i})]}),(0,c.jsxs)("div",{className:"bg-bg-card rounded-lg p-5 border border-border",children:[(0,c.jsx)("h3",{className:"text-sm font-semibold text-text-primary mb-4",children:e.admin_leaderboard||"Admin Leaderboard"}),j.length>0?(0,c.jsx)("div",{className:"space-y-3",children:j.slice(0,5).map((a,b)=>(0,c.jsxs)("div",{className:"flex items-center gap-3",children:[(0,c.jsx)("div",{className:"w-7 h-7 rounded-full flex items-center justify-center text-xs font-bold text-white",style:{backgroundColor:0===b?T:1===b?"#9ca3af":2===b?"#b45309":R},children:b+1}),(0,c.jsx)("span",{className:"text-sm text-text-primary flex-1 truncate",children:a.label}),(0,c.jsxs)("div",{className:"text-right",children:[(0,c.jsx)("span",{className:"text-sm font-semibold text-text-primary",children:a.value}),(0,c.jsx)("span",{className:"text-xs text-text-muted ml-1",children:e.resolved||"resolved"})]})]},a.label))}):(0,c.jsx)("p",{className:"text-sm text-text-muted text-center py-4",children:e.no_data||"No data available"})]})]}),b.recentActivity&&b.recentActivity.length>0&&(0,c.jsxs)("div",{className:"bg-bg-card rounded-lg p-5 border border-border",children:[(0,c.jsx)("h3",{className:"text-sm font-semibold text-text-primary mb-4",children:e.recent_activity||"Recent Activity (Last 7 Days)"}),(0,c.jsx)("div",{className:"flex items-end gap-2",children:(a=Math.max(...b.recentActivity.map(a=>a.count),1),b.recentActivity.map((b,d)=>{var e;let f,g=b.count/a*100;return(0,c.jsxs)("div",{className:"flex-1 flex flex-col items-center gap-1",children:[(0,c.jsx)("span",{className:"text-xs text-text-secondary",children:b.count}),(0,c.jsx)("div",{className:"w-full h-24 flex items-end",children:(0,c.jsx)("div",{className:"w-full rounded-t transition-all duration-300",style:{height:`${Math.max(g,4)}%`,backgroundColor:R}})}),(0,c.jsx)("span",{className:"text-[10px] text-text-muted",children:isNaN((f=new Date("number"==typeof(e=b.date)?1e3*e:e+"T00:00:00")).getTime())?String(e):f.toLocaleDateString("de-DE",{weekday:"short"})})]},d)}))})]})]})})}function aa(){let{screenshotPopup:a,closeScreenshotPopup:b}=k();return a.isOpen&&a.imageData?(0,c.jsx)("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/90 backdrop-blur-sm",onClick:b,children:(0,c.jsxs)("div",{className:"relative max-w-[90vw] max-h-[90vh] flex flex-col bg-bg-secondary rounded-lg shadow-xl",onClick:a=>a.stopPropagation(),children:[(0,c.jsxs)("div",{className:"flex items-center justify-between px-6 py-4 border-b border-border",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("h3",{className:"text-lg font-semibold text-text-primary",children:"Screenshot Captured"}),(0,c.jsxs)("p",{className:"text-sm text-text-secondary",children:["From: ",a.playerName," • Report #",a.reportId]})]}),(0,c.jsxs)("div",{className:"flex items-center gap-2",children:[(0,c.jsxs)(p,{variant:"secondary",size:"sm",onClick:()=>{if(!a.imageData)return;let b=document.createElement("a");b.href=a.imageData,b.download=`screenshot_${a.playerName}_${a.reportId}_${Date.now()}.jpg`,b.click()},children:[(0,c.jsx)("svg",{className:"w-4 h-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,c.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Download"]}),(0,c.jsx)("button",{onClick:b,className:"text-text-tertiary hover:text-text-primary transition-colors",children:(0,c.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,c.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),(0,c.jsx)("div",{className:"flex-1 overflow-auto p-4",children:(0,c.jsx)("img",{src:a.imageData,alt:"Screenshot",className:"max-w-full max-h-[calc(90vh-120px)] mx-auto rounded-lg"})})]})}):null}function ab(){let a,{isVisible:b,theme:e,activeTab:f,setVisible:g,setTheme:h,setPlayerData:i,setCategories:l,setLocale:n,setMyReports:o,setAllReports:p,setStatistics:q}=k(),{close:r}=m();return a=k(),(0,d.useEffect)(()=>{var b;let c,d=(b=(b,c)=>{switch(b){case"SHOW_UI":a.setVisible(!0),a.setTheme(c.theme),a.setCategories(c.categories),a.setPriorities(c.priorities||[]),a.setMyReports(c.myReports||[]),a.setAllReports(c.allReports||[]),a.setPlayerData(c.playerData),a.setLocale(c.locale||{}),a.setVoiceMessagesEnabled(c.voiceMessagesEnabled??!1);break;case"HIDE_UI":a.setVisible(!1),a.setSelectedReportId(null),a.setIsCreatingReport(!1);break;case"SET_REPORTS":a.setMyReports(c);break;case"SET_ALL_REPORTS":a.setAllReports(c);break;case"ADD_REPORT":case"NEW_ADMIN_REPORT":a.addReport(c);break;case"UPDATE_REPORT":a.updateReport(c);break;case"REMOVE_REPORT":{let{id:b}=c;a.removeReport(b);break}case"NEW_MESSAGE":case"MESSAGE_SENT":a.addMessage(c);break;case"SET_MESSAGES":a.setMessages(c.reportId,c.messages);break;case"NOTIFICATION":a.addNotification({message:c.message,type:c.notifyType});break;case"PLAY_SOUND":((a,b=.5)=>{if(!window.invokeNative)return console.log(`[NUI] Playing sound: ${a} at volume ${b}`);let c=new Audio(`./sounds/${a}`);c.volume=b,c.play().catch(console.error)})(c.sound,c.volume);break;case"UPDATE_PLAYER_ONLINE":a.updatePlayerOnlineStatus(c.playerId,c.isOnline);break;case"SET_REPORT_NOTES":a.setReportNotes(c.reportId,c.notes);break;case"REPORT_NOTE_ADDED":a.addReportNote(c);break;case"REPORT_NOTE_DELETED":a.removeReportNote(c.reportId,c.noteId);break;case"SET_PLAYER_NOTES":a.setPlayerNotes(c.playerId,c.notes);break;case"PLAYER_NOTE_ADDED":a.addPlayerNote(c);break;case"PLAYER_NOTE_DELETED":a.removePlayerNote(c.playerId,c.noteId);break;case"SET_PLAYER_HISTORY":a.setPlayerHistory(c);break;case"SET_STATISTICS":a.setStatistics(c);break;case"SET_PLAYER_INVENTORY":a.setInventory(c.reportId,{items:c.items,itemList:c.itemList,systemName:c.systemName,supportsMetadata:c.supportsMetadata,loading:!1});break;case"INVENTORY_UPDATED":a.setInventoryItems(c.reportId,c.items);break;case"SET_INVENTORY_ACTION_LOG":a.setInventoryActionLog(c.reportId,c.logs);break;case"SHOW_SCREENSHOT_POPUP":a.setScreenshotPopup({isOpen:!0,imageData:c.imageData,playerName:c.playerName,reportId:c.reportId});break;case"USER_SCREENSHOT_CAPTURED":a.setUserScreenshot(c.reportId,c.imageData)}},c=a=>{let{type:c,data:d}=a.data;c&&b(c,d)},window.addEventListener("message",c),()=>{window.removeEventListener("message",c)});return()=>d()},[a]),(0,d.useEffect)(()=>{window.invokeNative||(g(!0),h("dark"),i({identifier:"license:test123",name:"TestPlayer",isAdmin:!0}),l([{id:"general",label:"General",icon:"fa-circle-info"},{id:"bug",label:"Bug Report",icon:"fa-bug"},{id:"player",label:"Player Report",icon:"fa-user"},{id:"question",label:"Question",icon:"fa-question"},{id:"other",label:"Other",icon:"fa-ellipsis"}]),n({my_reports:"My Reports",admin_panel:"Admin Panel",create_report:"Create Report",active_reports:"Active Reports",no_active_reports:"You have no active reports",no_reports:"No reports found",select_report:"Select a report to view details",status_open:"Open",status_claimed:"Claimed",status_resolved:"Resolved",claim_report:"Claim",unclaim_report:"Unclaim",resolve_report:"Resolve",teleport_to:"Teleport",bring_player:"Bring",heal_player:"Heal",delete:"Delete",chat:"Chat",type_message:"Type a message...",cancel:"Cancel",submit:"Submit",report_subject:"Subject",report_subject_placeholder:"Brief summary of your issue",report_category:"Category",report_category_placeholder:"Select a category",report_description:"Description",report_description_placeholder:"Provide more details...",all:"All",theme:"Theme",search_by_player:"Search player..."}),o([{id:1,playerId:"license:test123",playerName:"TestPlayer",subject:"Need help with a vehicle",category:"general",description:"My vehicle disappeared after I parked it near the bank. Can someone help me recover it?",status:"open",priority:0,createdAt:new Date(Date.now()-18e5).toISOString(),updatedAt:new Date(Date.now()-18e5).toISOString(),messages:[{id:1,reportId:1,senderId:"license:test123",senderName:"TestPlayer",senderType:"player",message:"Hello, I really need help with this!",createdAt:new Date(Date.now()-15e5).toISOString()}]},{id:2,playerId:"license:test123",playerName:"TestPlayer",subject:"Bug in the inventory system",category:"bug",description:"Items are duplicating when I transfer them quickly.",status:"claimed",claimedBy:"license:admin123",claimedByName:"AdminUser",priority:1,createdAt:new Date(Date.now()-72e5).toISOString(),updatedAt:new Date(Date.now()-27e5).toISOString(),messages:[]}]),p([{id:3,playerId:"license:other456",playerName:"OtherPlayer",subject:"Player RDM complaint",category:"player",description:"User XYZ killed me without any roleplay.",status:"open",priority:2,createdAt:new Date(Date.now()-9e5).toISOString(),updatedAt:new Date(Date.now()-9e5).toISOString(),messages:[]}]),q({totalReports:156,openReports:12,claimedReports:8,resolvedReports:136,avgResolutionTime:45,reportsByCategory:[{category:"general",count:45},{category:"bug",count:38},{category:"player",count:52},{category:"question",count:15},{category:"other",count:6}],reportsByPriority:[{priority:0,count:78},{priority:1,count:42},{priority:2,count:28},{priority:3,count:8}],adminLeaderboard:[{adminId:"steam:1",adminName:"Admin_Mike",claimed:45,resolved:42,messages:156},{adminId:"steam:2",adminName:"Admin_Sarah",claimed:38,resolved:35,messages:120},{adminId:"steam:3",adminName:"Admin_Tom",claimed:28,resolved:25,messages:89},{adminId:"steam:4",adminName:"Admin_Lisa",claimed:22,resolved:20,messages:67},{adminId:"steam:5",adminName:"Admin_Max",claimed:15,resolved:14,messages:45}],recentActivity:[{date:new Date(Date.now()-5184e5).toISOString().split("T")[0],count:18},{date:new Date(Date.now()-432e6).toISOString().split("T")[0],count:24},{date:new Date(Date.now()-3456e5).toISOString().split("T")[0],count:15},{date:new Date(Date.now()-2592e5).toISOString().split("T")[0],count:32},{date:new Date(Date.now()-1728e5).toISOString().split("T")[0],count:28},{date:new Date(Date.now()-864e5).toISOString().split("T")[0],count:21},{date:new Date().toISOString().split("T")[0],count:12}]}))},[g,h,i,l,n,o,p,q]),(0,d.useEffect)(()=>{let a=a=>{"Escape"===a.key&&b&&r()};return document.addEventListener("keydown",a),()=>document.removeEventListener("keydown",a)},[b,r]),(0,c.jsxs)("div",{"data-theme":e,children:[(0,c.jsx)("div",{className:j("fixed inset-0 items-center justify-center bg-black/50 backdrop-blur-sm",b?"flex":"hidden"),children:(0,c.jsxs)("div",{className:"w-[1200px] xl:w-[1400px] 2xl:w-[1800px] max-w-[95vw] h-[800px] xl:h-[880px] 2xl:h-[1000px] max-h-[90vh] flex flex-col bg-bg-secondary border border-border rounded-xl shadow-lg overflow-hidden animate-[fade-in_0.3s_ease-out]",children:[(0,c.jsx)(y,{}),"statistics"===f?(0,c.jsx)(_,{}):(0,c.jsxs)("div",{className:"flex flex-1 overflow-hidden",children:[(0,c.jsx)(D,{}),(0,c.jsx)(Q,{})]})]})}),(0,c.jsx)(z,{}),(0,c.jsx)(aa,{}),(0,c.jsx)(E,{})]})}a.s(["default",()=>ab],61148)}];

//# sourceMappingURL=Desktop_sws-report-main_web_src_app_page_tsx_a3847a11._.js.map