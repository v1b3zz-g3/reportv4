(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,95384,e=>{"use strict";let t;var r=e.i(66816),s=e.i(68496);let a=e=>{let t,r=new Set,s=(e,s)=>{let a="function"==typeof e?e(t):e;if(!Object.is(a,t)){let e=t;t=(null!=s?s:"object"!=typeof a||null===a)?a:Object.assign({},t,a),r.forEach(r=>r(t,e))}},a=()=>t,o={setState:s,getState:a,getInitialState:()=>l,subscribe:e=>(r.add(e),()=>r.delete(e))},l=t=e(s,a,o);return o},o=e=>{let t=e?a(e):a,r=e=>(function(e,t=e=>e){let r=s.default.useSyncExternalStore(e.subscribe,s.default.useCallback(()=>t(e.getState()),[e,t]),s.default.useCallback(()=>t(e.getInitialState()),[e,t]));return s.default.useDebugValue(r),r})(t,e);return Object.assign(r,t),r},l=e=>e&&"string"==typeof e?new Date(e.includes("T")?e:e.replace(" ","T")+"Z"):new Date,n=e=>l(e).toLocaleString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),i=e=>{let t=l(e),r=Math.floor(Math.floor((new Date().getTime()-t.getTime())/1e3)/60),s=Math.floor(r/60),a=Math.floor(s/24);return a>0?`${a}d ago`:s>0?`${s}h ago`:r>0?`${r}m ago`:"Just now"},d=(...e)=>e.filter(Boolean).join(" "),c=(t=(e,t)=>({isVisible:!1,theme:"dark",activeTab:"my-reports",selectedReportId:null,isCreatingReport:!1,showPlayerInfo:!1,selectedPlayerId:null,voiceMessagesEnabled:!1,playerData:null,myReports:[],allReports:[],categories:[],priorities:[],locale:{},notifications:[],reportNotes:{},playerNotes:{},playerHistory:null,statistics:null,inventory:{},screenshotPopup:{isOpen:!1,imageData:null,playerName:null,reportId:null},userScreenshots:{},filter:{status:"all",category:"all"},setVisible:t=>e({isVisible:t}),setTheme:t=>e({theme:t}),setActiveTab:t=>e({activeTab:t,selectedReportId:null}),setSelectedReportId:t=>e({selectedReportId:t}),setIsCreatingReport:t=>e({isCreatingReport:t}),setShowPlayerInfo:t=>e({showPlayerInfo:t}),setSelectedPlayerId:t=>e({selectedPlayerId:t}),setVoiceMessagesEnabled:t=>e({voiceMessagesEnabled:t}),setPlayerData:t=>e({playerData:t}),setMyReports:t=>e({myReports:t}),setAllReports:t=>e({allReports:t}),setCategories:t=>e({categories:t}),setPriorities:t=>e({priorities:t}),setLocale:t=>e({locale:t}),setFilter:t=>e(e=>({filter:{...e.filter,...t}})),addReport:t=>e(e=>({myReports:e.playerData?.identifier===t.playerId?[t,...e.myReports]:e.myReports,allReports:e.playerData?.isAdmin?[t,...e.allReports]:e.allReports})),updateReport:t=>e(e=>({myReports:e.myReports.map(e=>e.id===t.id?{...e,...t}:e),allReports:e.allReports.map(e=>e.id===t.id?{...e,...t}:e)})),removeReport:t=>e(e=>({myReports:e.myReports.filter(e=>e.id!==t),allReports:e.allReports.filter(e=>e.id!==t),selectedReportId:e.selectedReportId===t?null:e.selectedReportId})),addMessage:t=>e(e=>{let r=e=>e.map(e=>e.id===t.reportId?{...e,messages:[...e.messages||[],t]}:e);return{myReports:r(e.myReports),allReports:r(e.allReports)}}),setMessages:(t,r)=>e(e=>{let s=e=>e.map(e=>e.id===t?{...e,messages:r}:e);return{myReports:s(e.myReports),allReports:s(e.allReports)}}),updatePlayerOnlineStatus:(t,r)=>e(e=>{let s=e=>e.map(e=>e.playerId===t?{...e,isPlayerOnline:r}:e);return{myReports:s(e.myReports),allReports:s(e.allReports)}}),addNotification:r=>{let s=Math.random().toString(36).substring(2,9);e(e=>({notifications:[...e.notifications,{...r,id:s}]})),setTimeout(()=>{t().removeNotification(s)},r.duration||4e3)},removeNotification:t=>e(e=>({notifications:e.notifications.filter(e=>e.id!==t)})),setReportNotes:(t,r)=>e(e=>({reportNotes:{...e.reportNotes,[t]:r}})),addReportNote:t=>e(e=>{let r=e.reportNotes[t.reportId]||[],s=t.id>0?r.filter(e=>!(e.id<0&&e.note===t.note)):r;return{reportNotes:{...e.reportNotes,[t.reportId]:[t,...s]}}}),removeReportNote:(t,r)=>e(e=>({reportNotes:{...e.reportNotes,[t]:(e.reportNotes[t]||[]).filter(e=>e.id!==r)}})),setPlayerNotes:(t,r)=>e(e=>({playerNotes:{...e.playerNotes,[t]:r}})),addPlayerNote:t=>e(e=>{let r=e.playerNotes[t.playerId]||[],s=t.id>0?r.filter(e=>!(e.id<0&&e.note===t.note)):r,a=e.playerHistory&&e.playerHistory.playerId===t.playerId?{...e.playerHistory,notes:t.id>0?[t,...e.playerHistory.notes.filter(e=>!(e.id<0&&e.note===t.note))]:e.playerHistory.notes}:e.playerHistory;return{playerNotes:{...e.playerNotes,[t.playerId]:[t,...s]},playerHistory:a}}),removePlayerNote:(t,r)=>e(e=>({playerNotes:{...e.playerNotes,[t]:(e.playerNotes[t]||[]).filter(e=>e.id!==r)},playerHistory:e.playerHistory&&e.playerHistory.playerId===t?{...e.playerHistory,notes:e.playerHistory.notes.filter(e=>e.id!==r)}:e.playerHistory})),setPlayerHistory:t=>e({playerHistory:t}),setStatistics:t=>e({statistics:t}),setInventory:(t,r)=>e(e=>{let s=e.inventory[t];return{inventory:{...e.inventory,[t]:{items:[],itemList:{},loading:!1,systemName:"",supportsMetadata:!1,actionLog:[],...s,...r}}}}),setInventoryLoading:(t,r)=>e(e=>{let s=e.inventory[t];return{inventory:{...e.inventory,[t]:{items:[],itemList:{},loading:!1,systemName:"",supportsMetadata:!1,actionLog:[],...s,loading:r}}}}),setInventoryItems:(t,r)=>e(e=>({inventory:{...e.inventory,[t]:{...e.inventory[t],items:r,loading:!1}}})),setInventoryActionLog:(t,r)=>e(e=>({inventory:{...e.inventory,[t]:{...e.inventory[t],actionLog:r}}})),getInventory:e=>t().inventory[e],setScreenshotPopup:t=>e(e=>({screenshotPopup:{...e.screenshotPopup,...t}})),closeScreenshotPopup:()=>e({screenshotPopup:{isOpen:!1,imageData:null,playerName:null,reportId:null}}),setUserScreenshot:(t,r)=>e(e=>({userScreenshots:{...e.userScreenshots,[t]:r}})),clearUserScreenshot:t=>e(e=>{let{[t]:r,...s}=e.userScreenshots;return{userScreenshots:s}}),getSelectedReport:()=>{let e=t();return("admin"===e.activeTab?e.allReports:e.myReports).find(t=>t.id===e.selectedReportId)},getFilteredReports:()=>{let e=t(),r="admin"===e.activeTab?e.allReports:e.myReports;if("admin"!==e.activeTab)return r;let{filter:s}=e;return r.filter(e=>(!s.status||"all"===s.status||e.status===s.status)&&(!s.category||"all"===s.category||e.category===s.category)&&(!s.playerId||!!e.playerId.includes(s.playerId)))},getReportNotes:e=>t().reportNotes[e]||[],getPlayerNotes:e=>t().playerNotes[e]||[]}))?o(t):o,x=async(e,t)=>{if(!window.invokeNative)return console.log(`[NUI] ${e}`,t),{};let r=window.invokeNative&&window.GetParentResourceName?.()||"sws-report";return(await fetch(`https://${r}/${e}`,{method:"POST",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify(t||{})})).json()};function m(){let e=(0,s.useCallback)(()=>{x("close")},[]),t=(0,s.useCallback)(e=>{x("createReport",e)},[]),r=(0,s.useCallback)(e=>{x("deleteReport",{id:e})},[]),a=(0,s.useCallback)(e=>{x("claimReport",{id:e})},[]),o=(0,s.useCallback)(e=>{x("unclaimReport",{id:e})},[]),l=(0,s.useCallback)(e=>{x("resolveReport",{id:e})},[]),n=(0,s.useCallback)((e,t)=>{x("sendMessage",{reportId:e,message:t})},[]),i=(0,s.useCallback)(e=>{x("getMessages",{reportId:e})},[]),d=(0,s.useCallback)((e,t)=>{x("adminAction",{reportId:e,action:t})},[]),c=(0,s.useCallback)(e=>{x("setTheme",{theme:e})},[]),m=(0,s.useCallback)((e,t)=>{x("setPriority",{reportId:e,priority:t})},[]),p=(0,s.useCallback)((e,t)=>{x("addReportNote",{reportId:e,note:t})},[]),u=(0,s.useCallback)(e=>{x("deleteReportNote",{noteId:e})},[]),h=(0,s.useCallback)(e=>{x("getReportNotes",{reportId:e})},[]),b=(0,s.useCallback)((e,t)=>{x("addPlayerNote",{playerId:e,note:t})},[]),v=(0,s.useCallback)(e=>{x("deletePlayerNote",{noteId:e})},[]),y=(0,s.useCallback)(e=>{x("getPlayerNotes",{playerId:e})},[]),g=(0,s.useCallback)(e=>{x("getPlayerHistory",{playerId:e})},[]),j=(0,s.useCallback)(e=>{x("getMyReports",{includeResolved:e})},[]),f=(0,s.useCallback)(()=>{x("getStatistics")},[]),N=(0,s.useCallback)(e=>{x("takeScreenshot",{reportId:e})},[]),k=(0,s.useCallback)(e=>{x("getPlayerInventory",{reportId:e})},[]),w=(0,s.useCallback)((e,t,r,s)=>{x("addInventoryItem",{reportId:e,itemName:t,count:r,metadata:s})},[]),C=(0,s.useCallback)((e,t,r,s)=>{x("removeInventoryItem",{reportId:e,itemName:t,count:r,slot:s})},[]),L=(0,s.useCallback)((e,t,r)=>{x("setInventoryItemCount",{reportId:e,itemName:t,count:r})},[]);return{close:e,createReport:t,deleteReport:r,claimReport:a,unclaimReport:o,resolveReport:l,sendMessage:n,getMessages:i,adminAction:d,setTheme:c,setPriority:m,addReportNote:p,deleteReportNote:u,getReportNotes:h,addPlayerNote:b,deletePlayerNote:v,getPlayerNotes:y,getPlayerHistory:g,getMyReports:j,getStatistics:f,takeScreenshot:N,getPlayerInventory:k,addInventoryItem:w,removeInventoryItem:C,setInventoryItemCount:L,setInventoryItemMetadata:(0,s.useCallback)((e,t,r)=>{x("setInventoryItemMetadata",{reportId:e,slot:t,metadata:r})},[]),getInventoryActionLog:(0,s.useCallback)((e,t)=>{x("getInventoryActionLog",{reportId:e,limit:t})},[])}}let p={default:"bg-bg-card border-border text-text-primary hover:bg-bg-elevated hover:border-border-hover",primary:"bg-accent text-white border-accent hover:bg-accent-hover",secondary:"bg-bg-tertiary border-border text-text-secondary hover:bg-bg-elevated hover:text-text-primary hover:border-border-hover",success:"bg-success-bg text-success border-success-border hover:bg-success/20",danger:"bg-error-bg text-error border-error-border hover:bg-error/20",ghost:"bg-transparent border-transparent text-text-secondary hover:text-text-primary hover:bg-bg-tertiary"},u={default:"h-10 px-4 text-sm",sm:"h-8 px-3 text-xs",lg:"h-12 px-6 text-base",icon:"h-9 w-9 p-0"},h=(0,s.forwardRef)(({className:e,variant:t="default",size:s="default",children:a,disabled:o,...l},n)=>(0,r.jsx)("button",{ref:n,disabled:o,className:d("inline-flex items-center justify-center gap-2 rounded-md border font-medium transition-all duration-200","focus:outline-none focus:ring-2 focus:ring-accent/20","disabled:opacity-50 disabled:cursor-not-allowed",p[t],u[s],e),...l,children:a}));h.displayName="Button";let b=d("w-full rounded-md border border-border bg-bg-card px-4 py-3","text-sm text-text-primary placeholder:text-text-muted","transition-all duration-200","focus:outline-none focus:border-accent focus:ring-2 focus:ring-accent/15","disabled:opacity-50 disabled:cursor-not-allowed"),v=(0,s.forwardRef)(({className:e,...t},s)=>(0,r.jsx)("input",{ref:s,className:d(b,e),...t}));v.displayName="Input";let y=(0,s.forwardRef)(({className:e,...t},s)=>(0,r.jsx)("textarea",{ref:s,className:d(b,"min-h-[120px] resize-y",e),...t}));y.displayName="Textarea";let g=(0,s.forwardRef)(({className:e,children:t,...s},a)=>(0,r.jsx)("select",{ref:a,className:d(b,"cursor-pointer appearance-none pr-10","bg-[url('data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20fill%3D%22none%22%20viewBox%3D%220%200%2024%2024%22%20stroke%3D%22%239ca3af%22%3E%3Cpath%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%20stroke-width%3D%222%22%20d%3D%22M19%209l-7%207-7-7%22%2F%3E%3C%2Fsvg%3E')] bg-[length:16px] bg-[right_12px_center] bg-no-repeat",e),...s,children:t}));g.displayName="Select";let j=(0,s.forwardRef)(({className:e,...t},s)=>(0,r.jsx)("label",{ref:s,className:d("text-sm font-medium text-text-primary",e),...t}));function f({isOpen:e,onClose:t,title:a,children:o,footer:l}){return((0,s.useEffect)(()=>{let r=r=>{"Escape"===r.key&&e&&t()};return document.addEventListener("keydown",r),()=>document.removeEventListener("keydown",r)},[e,t]),e)?(0,r.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm",onClick:t,children:(0,r.jsxs)("div",{className:"w-full max-w-lg xl:max-w-2xl 2xl:max-w-3xl max-h-[90vh] flex flex-col bg-bg-secondary border border-border rounded-xl shadow-lg animate-[scale-in_0.2s_ease-out]",onClick:e=>e.stopPropagation(),children:[(0,r.jsxs)("div",{className:"flex items-center justify-between px-6 py-4 border-b border-border",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-text-primary",children:a}),(0,r.jsx)(h,{variant:"ghost",size:"icon",onClick:t,children:(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,r.jsx)("div",{className:"flex-1 overflow-y-auto px-6 py-4",children:o}),l&&(0,r.jsx)("div",{className:"flex items-center justify-end gap-3 px-6 py-4 border-t border-border",children:l})]})}):null}j.displayName="Label";let N={default:"bg-bg-elevated text-text-secondary border-border",open:"bg-info-bg text-info border-info-border",claimed:"bg-warning-bg text-warning border-warning-border",resolved:"bg-success-bg text-success border-success-border",info:"bg-accent/10 text-accent border-accent/30"};function k({variant:e="default",children:t,className:s}){return(0,r.jsx)("span",{className:d("inline-flex items-center gap-1.5 px-2.5 py-1 text-xs font-medium rounded-md border",N[e],s),children:t})}function w(){let{theme:e,setTheme:t,playerData:s,activeTab:a,setActiveTab:o,locale:l}=c(),{close:n,setTheme:i}=m();return(0,r.jsxs)("header",{className:"flex items-center justify-between px-6 py-4 bg-bg-elevated border-b border-border",children:[(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsx)("span",{className:"text-xl font-bold text-text-primary tracking-tight",children:"Reports"}),(0,r.jsx)("span",{className:"text-[10px] xl:text-xs font-semibold text-accent uppercase tracking-wider",children:"Support System"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-1 p-1 bg-bg-card rounded-lg",children:[(0,r.jsxs)("button",{onClick:()=>o("my-reports"),className:`flex items-center gap-2 px-4 py-2 text-sm font-medium rounded-md transition-all ${"my-reports"===a?"bg-bg-elevated text-text-primary":"text-text-secondary hover:text-text-primary"}`,children:[(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 5v2m0 4v2m0 4v2M5 5a2 2 0 00-2 2v3a2 2 0 110 4v3a2 2 0 002 2h14a2 2 0 002-2v-3a2 2 0 110-4V7a2 2 0 00-2-2H5z"})}),l.my_reports||"My Reports"]}),s?.isAdmin&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("button",{onClick:()=>o("admin"),className:`flex items-center gap-2 px-4 py-2 text-sm font-medium rounded-md transition-all ${"admin"===a?"bg-bg-elevated text-text-primary":"text-text-secondary hover:text-text-primary"}`,children:[(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),l.admin_panel||"Admin Panel"]}),(0,r.jsxs)("button",{onClick:()=>o("statistics"),className:`flex items-center gap-2 px-4 py-2 text-sm font-medium rounded-md transition-all ${"statistics"===a?"bg-bg-elevated text-text-primary":"text-text-secondary hover:text-text-primary"}`,children:[(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),l.statistics||"Statistics"]})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(h,{variant:"ghost",size:"icon",onClick:()=>{let r="dark"===e?"light":"dark";t(r),i(r)},title:l.theme||"Theme",children:"dark"===e?(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})}):(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})})}),(0,r.jsx)(h,{variant:"ghost",size:"icon",onClick:n,children:(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]})}function C(){let{notifications:e,removeNotification:t}=c();return(0,r.jsx)("div",{className:"fixed top-6 right-6 z-[9999] flex flex-col gap-3 pointer-events-none",children:e.map(e=>(0,r.jsxs)("div",{onClick:()=>t(e.id),className:d("flex items-center gap-3 min-w-[320px] max-w-[400px] p-4","bg-bg-elevated border border-border border-l-[3px] rounded-lg shadow-lg","animate-[slide-in-right_0.3s_ease-out] cursor-pointer pointer-events-auto",(e=>{switch(e){case"success":return"border-l-success";case"error":return"border-l-error";default:return"border-l-info"}})(e.type)),children:[(e=>{switch(e){case"success":return(0,r.jsx)("svg",{className:"w-5 h-5 text-success",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})});case"error":return(0,r.jsx)("svg",{className:"w-5 h-5 text-error",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})});default:return(0,r.jsx)("svg",{className:"w-5 h-5 text-info",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}})(e.type),(0,r.jsx)("p",{className:"flex-1 text-sm text-text-primary",children:e.message})]},e.id))})}let L={gray:"bg-gray-500/20 text-gray-400 border-gray-500/30",blue:"bg-blue-500/20 text-blue-400 border-blue-500/30",orange:"bg-orange-500/20 text-orange-400 border-orange-500/30",red:"bg-red-500/20 text-red-400 border-red-500/30"};function _({priority:e,size:t="sm"}){let{priorities:s,locale:a}=c(),o=s.find(t=>t.id===e);if(!o)return null;let l=L[o.color]||L.gray,n=a[`priority_${o.label.toLowerCase()}`]||o.label;return(0,r.jsxs)("span",{className:d("inline-flex items-center gap-1 font-medium border rounded",l,"sm"===t?"px-1.5 py-0.5 text-[10px]":"px-2 py-1 text-xs"),children:[(0,r.jsx)("svg",{className:d("fill-current","sm"===t?"w-2 h-2":"w-3 h-3"),viewBox:"0 0 8 8",children:(0,r.jsx)("circle",{cx:"4",cy:"4",r:"3"})}),n]})}function R({report:e}){let{selectedReportId:t,setSelectedReportId:s,categories:a,locale:o}=c(),l=t===e.id,n=a.find(t=>t.id===e.category);return(0,r.jsxs)("div",{onClick:()=>s(e.id),className:d("p-4 bg-bg-card border border-border rounded-lg cursor-pointer transition-all duration-200","hover:bg-bg-tertiary hover:border-border-hover",l&&"border-accent bg-bg-tertiary"),children:[(0,r.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,r.jsxs)("span",{className:"flex items-center gap-1.5 font-mono text-xs text-text-tertiary",children:["#",e.id,(0,r.jsx)("span",{className:`w-2 h-2 rounded-full ${e.isPlayerOnline?"bg-green-500":"bg-red-500"}`,title:e.isPlayerOnline?"Online":"Offline"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,r.jsx)(_,{priority:e.priority,size:"sm"}),(0,r.jsx)(k,{variant:(()=>{switch(e.status){case"open":return"open";case"claimed":return"claimed";case"resolved":return"resolved";default:return"default"}})(),children:o[`status_${e.status}`]||e.status})]})]}),(0,r.jsx)("h4",{className:"text-[15px] font-semibold text-text-primary mb-2 line-clamp-2",children:e.subject}),(0,r.jsxs)("div",{className:"flex flex-wrap items-center gap-3 text-xs text-text-tertiary",children:[n&&(0,r.jsx)("span",{className:"flex items-center gap-1.5 px-2 py-0.5 bg-bg-elevated rounded",children:n.label}),(0,r.jsx)("span",{children:i(e.createdAt)}),e.claimedByName&&(0,r.jsxs)("span",{className:"flex items-center gap-1",children:[(0,r.jsx)("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),e.claimedByName]})]})]})}function S(){let{activeTab:e,setIsCreatingReport:t,getFilteredReports:a,locale:o,filter:l,setFilter:n,categories:i}=c(),{getMyReports:d}=m(),[x,p]=(0,s.useState)(!1),u=a();return(0,s.useEffect)(()=>{"my-reports"===e&&d(x)},[x,e]),(0,r.jsxs)("aside",{className:"w-[380px] xl:w-[440px] 2xl:w-[520px] flex flex-col border-r border-border bg-bg-secondary",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between px-4 py-3 border-b border-border",children:[(0,r.jsx)("h3",{className:"text-sm font-semibold text-text-primary",children:"admin"===e?o.active_reports||"Active Reports":o.my_reports||"My Reports"}),"my-reports"===e&&(0,r.jsxs)(h,{size:"sm",variant:"primary",onClick:()=>t(!0),children:[(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),o.create_report||"Create"]})]}),"my-reports"===e&&(0,r.jsx)("div",{className:"flex items-center gap-2 px-4 py-2 border-b border-border",children:(0,r.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer text-xs text-text-secondary hover:text-text-primary transition-colors",children:[(0,r.jsx)("input",{type:"checkbox",checked:x,onChange:e=>p(e.target.checked),className:"w-3.5 h-3.5 rounded border-border bg-bg-tertiary accent-accent cursor-pointer"}),o.show_resolved||"Show resolved"]})}),"admin"===e&&(0,r.jsxs)("div",{className:"flex flex-wrap gap-2 px-3 py-2 border-b border-border",children:[(0,r.jsxs)(g,{className:"flex-1 min-w-[90px] py-1.5 text-xs",value:l.status||"all",onChange:e=>n({status:e.target.value}),children:[(0,r.jsx)("option",{value:"all",children:o.all||"All"}),(0,r.jsx)("option",{value:"open",children:o.status_open||"Open"}),(0,r.jsx)("option",{value:"claimed",children:o.status_claimed||"Claimed"}),(0,r.jsx)("option",{value:"resolved",children:o.status_resolved||"Resolved"})]}),(0,r.jsxs)(g,{className:"flex-1 min-w-[90px] py-1.5 text-xs",value:l.category||"all",onChange:e=>n({category:e.target.value}),children:[(0,r.jsx)("option",{value:"all",children:o.all||"All"}),i.map(e=>(0,r.jsx)("option",{value:e.id,children:e.label},e.id))]}),(0,r.jsx)(v,{className:"w-full py-1.5 text-xs",type:"text",placeholder:o.search_by_player||"Search player...",value:l.playerId||"",onChange:e=>n({playerId:e.target.value||void 0})})]}),(0,r.jsx)("div",{className:"flex-1 overflow-y-auto p-3 space-y-2",children:0===u.length?(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center h-full text-center text-text-tertiary",children:[(0,r.jsx)("svg",{className:"w-12 h-12 mb-3 opacity-30",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})}),(0,r.jsx)("p",{className:"text-sm",children:"admin"===e?o.no_reports||"No reports found":o.no_active_reports||"You have no active reports"})]}):u.map(e=>(0,r.jsx)(R,{report:e},e.id))})]})}function M(){let{isCreatingReport:e,setIsCreatingReport:t,categories:a,locale:o}=c(),{createReport:l}=m(),[n,i]=(0,s.useState)(""),[d,x]=(0,s.useState)(""),[p,u]=(0,s.useState)(""),[b,N]=(0,s.useState)(!1),k=()=>{i(""),x(""),u(""),N(!1),t(!1)};return(0,r.jsx)(f,{isOpen:e,onClose:k,title:o.create_report||"Create Report",footer:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(h,{variant:"ghost",onClick:k,children:o.cancel||"Cancel"}),(0,r.jsx)(h,{variant:"primary",onClick:()=>{n.trim()&&d&&(N(!0),l({subject:n.trim(),category:d,description:p.trim()||void 0}),k())},disabled:!n.trim()||!d||b,children:o.submit||"Submit"})]}),children:(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(j,{htmlFor:"subject",children:o.report_subject||"Subject"}),(0,r.jsx)(v,{id:"subject",type:"text",placeholder:o.report_subject_placeholder||"Brief summary of your issue",value:n,onChange:e=>i(e.target.value),maxLength:128})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(j,{htmlFor:"category",children:o.report_category||"Category"}),(0,r.jsxs)(g,{id:"category",value:d,onChange:e=>x(e.target.value),children:[(0,r.jsx)("option",{value:"",children:o.report_category_placeholder||"Select a category"}),a.map(e=>(0,r.jsx)("option",{value:e.id,children:e.label},e.id))]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(j,{htmlFor:"description",children:o.report_description||"Description"}),(0,r.jsx)(y,{id:"description",placeholder:o.report_description_placeholder||"Provide more details about your issue...",value:p,onChange:e=>u(e.target.value),maxLength:2e3,rows:5})]})]})})}function I({onSend:e,maxDuration:t=60,disabled:a=!1,locale:o}){let[l,n]=(0,s.useState)(!1),{isRecording:i,isPaused:c,duration:x,error:m,startRecording:p,stopRecording:u,pauseRecording:b,resumeRecording:v,cancelRecording:y}=function(e={}){let{maxDuration:t=60,onRecordingComplete:r}=e,[a,o]=(0,s.useState)(!1),[l,n]=(0,s.useState)(!1),[i,d]=(0,s.useState)(0),[c,x]=(0,s.useState)(null),m=(0,s.useRef)(null),p=(0,s.useRef)(null),u=(0,s.useRef)([]),h=(0,s.useRef)(null),b=(0,s.useRef)(0),v=(0,s.useRef)(0),y=(0,s.useCallback)(()=>{h.current&&(clearInterval(h.current),h.current=null),p.current&&(p.current.getTracks().forEach(e=>e.stop()),p.current=null),m.current=null,u.current=[],d(0),n(!1),v.current=0},[]),g=(0,s.useCallback)(async()=>{x(null),y();try{let e=await navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!0,noiseSuppression:!0,sampleRate:44100}});p.current=e;let s=MediaRecorder.isTypeSupported("audio/webm;codecs=opus")?"audio/webm;codecs=opus":MediaRecorder.isTypeSupported("audio/webm")?"audio/webm":"audio/mp4",a=new MediaRecorder(e,{mimeType:s,audioBitsPerSecond:128e3});m.current=a,a.ondataavailable=e=>{e.data.size>0&&u.current.push(e.data)},a.onstop=()=>{let e=new Blob(u.current,{type:s}),a=v.current+(Date.now()-b.current)/1e3;r&&e.size>0&&u.current.length>0&&r(e,Math.min(a,t)),y(),o(!1)},a.onerror=()=>{x("Recording error occurred"),y(),o(!1)},u.current=[],b.current=Date.now(),v.current=0,a.start(1e3),o(!0),h.current=setInterval(()=>{let e=v.current+(Date.now()-b.current)/1e3;d(e),e>=t&&m.current&&"inactive"!==m.current.state&&m.current.stop()},100)}catch(e){x(e instanceof Error?e.message:"Microphone access denied"),y()}},[y,t,r]),j=(0,s.useCallback)(()=>{m.current&&"inactive"!==m.current.state&&m.current.stop()},[]),f=(0,s.useCallback)(()=>{m.current&&"recording"===m.current.state&&(m.current.pause(),n(!0),v.current+=(Date.now()-b.current)/1e3,h.current&&(clearInterval(h.current),h.current=null))},[]),N=(0,s.useCallback)(()=>{m.current&&"paused"===m.current.state&&(m.current.resume(),n(!1),b.current=Date.now(),h.current=setInterval(()=>{let e=v.current+(Date.now()-b.current)/1e3;d(e),e>=t&&m.current&&"inactive"!==m.current.state&&m.current.stop()},100))},[t]),k=(0,s.useCallback)(()=>{u.current=[],m.current&&"inactive"!==m.current.state&&m.current.stop(),y(),o(!1)},[y]);return(0,s.useEffect)(()=>()=>y(),[y]),{isRecording:a,isPaused:l,duration:i,error:c,startRecording:g,stopRecording:j,pauseRecording:f,resumeRecording:N,cancelRecording:k}}({maxDuration:t,onRecordingComplete:(0,s.useCallback)(async(t,r)=>{n(!0);try{let s=new FileReader;s.onloadend=()=>{let t=s.result.split(",")[1];e(t,r),n(!1)},s.onerror=()=>{console.error("Failed to convert audio to base64"),n(!1)},s.readAsDataURL(t)}catch(e){console.error("Error processing recording:",e),n(!1)}},[e])}),g=e=>{let t=Math.floor(e/60),r=Math.floor(e%60);return`${t}:${r.toString().padStart(2,"0")}`};return i||c?(0,r.jsxs)("div",{className:"flex items-center gap-2 px-3 py-2 bg-bg-tertiary rounded-lg",children:[(0,r.jsx)("div",{className:d("w-3 h-3 rounded-full",c?"bg-warning":"bg-error animate-pulse")}),(0,r.jsxs)("span",{className:"text-sm font-mono text-text-primary min-w-[5rem]",children:[g(x)," / ",g(t)]}),(0,r.jsx)("div",{className:"flex-1 h-1 bg-bg-elevated rounded-full overflow-hidden min-w-[60px]",children:(0,r.jsx)("div",{className:d("h-full transition-all",c?"bg-warning":"bg-error"),style:{width:`${x/t*100}%`}})}),(0,r.jsx)(h,{variant:"ghost",size:"icon",onClick:c?v:b,title:c?o.resume||"Resume":o.pause||"Pause",className:"h-8 w-8",children:c?(0,r.jsx)("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{d:"M8 5v14l11-7z"})}):(0,r.jsx)("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{d:"M6 19h4V5H6v14zm8-14v14h4V5h-4z"})})}),(0,r.jsx)(h,{variant:"ghost",size:"icon",onClick:y,title:o.cancel||"Cancel",className:"h-8 w-8 text-error hover:text-error",children:(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),(0,r.jsx)(h,{variant:"primary",size:"icon",onClick:u,disabled:x<.5,title:o.send||"Send",className:"h-8 w-8",children:(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})})})]}):(0,r.jsx)(h,{variant:"ghost",size:"icon",onClick:p,disabled:a||l,title:m||o.voice_message||"Voice message",className:d("h-auto px-2",m&&"text-error"),children:l?(0,r.jsxs)("svg",{className:"w-5 h-5 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[(0,r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,r.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):(0,r.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z"})})})}function E({src:e,duration:t,className:a}){let[o,l]=(0,s.useState)(!1),[n,i]=(0,s.useState)(0),[c,x]=(0,s.useState)(t||0),[m,p]=(0,s.useState)(!0),[u,h]=(0,s.useState)(!1),b=(0,s.useRef)(null);(0,s.useEffect)(()=>{let e=b.current;if(!e)return;let t=()=>{isFinite(e.duration)&&!isNaN(e.duration)&&x(e.duration),p(!1)},r=()=>{i(e.currentTime)},s=()=>{l(!1),i(0)},a=()=>{h(!0),p(!1)},o=()=>{p(!1)};return e.addEventListener("loadedmetadata",t),e.addEventListener("timeupdate",r),e.addEventListener("ended",s),e.addEventListener("error",a),e.addEventListener("canplay",o),()=>{e.removeEventListener("loadedmetadata",t),e.removeEventListener("timeupdate",r),e.removeEventListener("ended",s),e.removeEventListener("error",a),e.removeEventListener("canplay",o)}},[]);let v=e=>{if(!isFinite(e)||isNaN(e)||e<0)return"0:00";let t=Math.floor(e/60),r=Math.floor(e%60);return`${t}:${r.toString().padStart(2,"0")}`};return u?(0,r.jsxs)("div",{className:d("flex items-center gap-2 text-error text-xs",a),children:[(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,r.jsx)("span",{children:"Failed to load audio"})]}):(0,r.jsxs)("div",{className:d("flex items-center gap-2 p-2 bg-bg-elevated/50 rounded-lg min-w-[160px]",a),children:[(0,r.jsx)("audio",{ref:b,src:e,preload:"metadata"}),(0,r.jsx)("button",{onClick:()=>{let e=b.current;e&&(o?e.pause():e.play(),l(!o))},disabled:m,className:"w-8 h-8 flex items-center justify-center rounded-full bg-accent text-white hover:bg-accent-hover transition-colors disabled:opacity-50 flex-shrink-0",children:m?(0,r.jsxs)("svg",{className:"w-4 h-4 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[(0,r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,r.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}):o?(0,r.jsx)("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{d:"M6 19h4V5H6v14zm8-14v14h4V5h-4z"})}):(0,r.jsx)("svg",{className:"w-4 h-4 ml-0.5",fill:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{d:"M8 5v14l11-7z"})})}),(0,r.jsxs)("div",{className:"flex-1 flex flex-col gap-1 min-w-0",children:[(0,r.jsx)("div",{className:"h-1.5 bg-bg-tertiary rounded-full cursor-pointer overflow-hidden",onClick:e=>{let t=b.current;if(!t||!c)return;let r=e.currentTarget.getBoundingClientRect();t.currentTime=(e.clientX-r.left)/r.width*c},children:(0,r.jsx)("div",{className:"h-full bg-accent rounded-full transition-all",style:{width:c?`${n/c*100}%`:"0%"}})}),(0,r.jsxs)("div",{className:"flex justify-between text-[10px] text-text-muted font-mono",children:[(0,r.jsx)("span",{children:v(n)}),(0,r.jsx)("span",{children:v(c||t||0)})]})]})]})}function z({report:e}){let{locale:t,voiceMessagesEnabled:a}=c(),{sendMessage:o,getMessages:l,takeScreenshot:i}=m(),[p,u]=(0,s.useState)(""),[b,y]=(0,s.useState)(null),g=(0,s.useRef)(null),j=e.messages||[],f=j.length;(0,s.useEffect)(()=>{l(e.id)},[e.id,l]),(0,s.useEffect)(()=>{g.current?.scrollIntoView({behavior:"smooth"})},[f]);let N=()=>{p.trim()&&(o(e.id,p.trim()),u(""))},k=(0,s.useCallback)((t,r)=>{x("sendVoiceMessage",{reportId:e.id,audioData:t,duration:r})},[e.id]);return(0,r.jsxs)("div",{className:"flex-1 flex flex-col min-h-0 overflow-hidden",children:[(0,r.jsxs)("div",{className:"flex-1 flex flex-col overflow-y-auto px-6 py-4 gap-3 min-h-0",children:[0===j.length?(0,r.jsx)("p",{className:"text-center text-sm text-text-muted py-8",children:t.no_messages||"No messages yet"}):j.map(e=>"system"===e.senderType?(0,r.jsxs)("div",{className:"flex flex-col items-center w-full py-1 gap-2",children:[(0,r.jsxs)("span",{className:"text-xs text-text-tertiary italic px-3 py-1 bg-bg-elevated/50 rounded-full",children:[e.message,(0,r.jsx)("span",{className:"ml-2 text-text-muted",children:"·"}),(0,r.jsx)("span",{className:"ml-1 text-text-muted",children:n(e.createdAt)})]}),e.imageUrl&&(0,r.jsx)("img",{src:e.imageUrl,alt:"Screenshot",className:"max-w-[300px] max-h-[200px] rounded-lg border border-border cursor-pointer hover:opacity-90 transition-opacity object-contain",onClick:()=>y(e.imageUrl)})]},e.id):(0,r.jsxs)("div",{className:d("flex flex-col max-w-[80%]","player"===e.senderType?"self-end items-end":"self-start items-start"),children:[(0,r.jsx)("div",{className:d("px-3 py-2 rounded-lg text-sm","player"===e.senderType?"bg-accent text-white rounded-br-sm":"bg-success/10 border border-success/20 text-text-primary rounded-bl-sm"),children:"voice"===e.messageType&&e.audioUrl?(0,r.jsx)(E,{src:e.audioUrl,duration:e.audioDuration}):(0,r.jsxs)(r.Fragment,{children:[e.message,e.imageUrl&&(0,r.jsx)("img",{src:e.imageUrl,alt:"Screenshot",className:"max-w-full max-h-[200px] rounded mt-2 cursor-pointer hover:opacity-90 transition-opacity object-contain",onClick:()=>y(e.imageUrl)})]})}),(0,r.jsxs)("span",{className:"text-[10px] xl:text-xs text-text-tertiary mt-1 flex items-center gap-1",children:[e.senderName,"admin"===e.senderType&&(0,r.jsx)("svg",{className:"w-3 h-3 text-success",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),"voice"===e.messageType&&(0,r.jsx)("svg",{className:"w-3 h-3 text-accent",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z"})}),(0,r.jsx)("span",{children:"·"}),n(e.createdAt)]})]},e.id)),(0,r.jsx)("div",{ref:g})]}),"resolved"!==e.status&&(0,r.jsxs)("div",{className:"flex items-stretch gap-2 px-6 py-3 border-t border-border bg-bg-secondary shrink-0",children:[(0,r.jsx)(v,{type:"text",placeholder:t.type_message||"Type a message...",value:p,onChange:e=>u(e.target.value),onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),N())},className:"flex-1 py-2"}),(0,r.jsx)(h,{variant:"secondary",onClick:()=>i(e.id),className:"h-auto px-3",title:t.take_screenshot||"Take Screenshot",children:(0,r.jsxs)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]})}),a&&(0,r.jsx)(I,{onSend:k,maxDuration:60,locale:t}),(0,r.jsx)(h,{variant:"primary",onClick:N,disabled:!p.trim(),className:"h-auto px-4",children:(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})})})]}),b&&(0,r.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/90",onClick:()=>y(null),children:(0,r.jsxs)("div",{className:"relative max-w-[90vw] max-h-[90vh]",children:[(0,r.jsx)("img",{src:b,alt:"Screenshot",className:"max-w-full max-h-[90vh] object-contain rounded-lg",onClick:e=>e.stopPropagation()}),(0,r.jsx)("button",{onClick:()=>y(null),className:"absolute -top-3 -right-3 w-8 h-8 bg-bg-card border border-border rounded-full flex items-center justify-center text-text-secondary hover:text-text-primary hover:bg-bg-elevated transition-colors",children:(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})})]})}let A={gray:{bg:"bg-gray-500/20",text:"text-gray-400",hover:"hover:bg-gray-500/30"},blue:{bg:"bg-blue-500/20",text:"text-blue-400",hover:"hover:bg-blue-500/30"},orange:{bg:"bg-orange-500/20",text:"text-orange-400",hover:"hover:bg-orange-500/30"},red:{bg:"bg-red-500/20",text:"text-red-400",hover:"hover:bg-red-500/30"}};function D({reportId:e,currentPriority:t}){let[a,o]=(0,s.useState)(!1),l=(0,s.useRef)(null),{priorities:n,locale:i}=c(),{setPriority:x}=m(),p=n.find(e=>e.id===t)||n[0],u=A[p?.color||"gray"];(0,s.useEffect)(()=>{let e=e=>{l.current&&!l.current.contains(e.target)&&o(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);let h=e=>i[`priority_${e.toLowerCase()}`]||e;return(0,r.jsxs)("div",{className:"relative",ref:l,children:[(0,r.jsxs)("button",{onClick:()=>o(!a),className:d("flex items-center gap-1.5 px-2 py-1 text-xs font-medium rounded transition-colors border border-transparent",u.bg,u.text,u.hover),children:[(0,r.jsx)("svg",{className:"w-3 h-3 fill-current",viewBox:"0 0 8 8",children:(0,r.jsx)("circle",{cx:"4",cy:"4",r:"3"})}),h(p?.label||"Normal"),(0,r.jsx)("svg",{className:d("w-3 h-3 transition-transform",a&&"rotate-180"),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),a&&(0,r.jsx)("div",{className:"absolute top-full left-0 mt-1 w-32 bg-bg-card border border-border rounded-lg shadow-lg z-50 overflow-hidden",children:n.map(s=>{let a=A[s.color],l=s.id===t;return(0,r.jsxs)("button",{onClick:()=>{var r;(r=s.id)!==t&&x(e,r),o(!1)},className:d("w-full flex items-center gap-2 px-3 py-2 text-xs text-left transition-colors",l?"bg-bg-tertiary":"hover:bg-bg-tertiary",a.text),children:[(0,r.jsx)("svg",{className:"w-3 h-3 fill-current",viewBox:"0 0 8 8",children:(0,r.jsx)("circle",{cx:"4",cy:"4",r:"3"})}),h(s.label),l&&(0,r.jsx)("svg",{className:"w-3 h-3 ml-auto",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})]},s.id)})})]})}function T({reportId:e}){let[t,a]=(0,s.useState)(""),[o,l]=(0,s.useState)(!1),{getReportNotes:n,locale:d}=c(),{addReportNote:x,deleteReportNote:p,getReportNotes:u}=m(),b=n(e);return(0,s.useEffect)(()=>{u(e)},[e,u]),(0,r.jsxs)("div",{className:"flex flex-col h-full",children:[(0,r.jsx)("div",{className:"px-4 py-3 border-b border-border",children:(0,r.jsxs)("h3",{className:"text-sm font-semibold text-text-primary flex items-center gap-2",children:[(0,r.jsx)("svg",{className:"w-4 h-4 text-text-tertiary",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),d.admin_notes||"Admin Notes",(0,r.jsxs)("span",{className:"text-xs text-text-tertiary font-normal",children:["(",d.internal_only||"internal only",")"]})]})}),(0,r.jsx)("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:0===b.length?(0,r.jsx)("p",{className:"text-sm text-text-tertiary text-center py-4",children:d.no_notes||"No notes yet"}):b.map(t=>(0,r.jsxs)("div",{className:"p-3 bg-bg-tertiary rounded-lg group",children:[(0,r.jsxs)("div",{className:"flex items-start justify-between gap-2 mb-2",children:[(0,r.jsx)("span",{className:"text-xs font-medium text-accent",children:t.adminName}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("span",{className:"text-[10px] xl:text-xs text-text-tertiary",children:i(t.createdAt)}),(0,r.jsx)("button",{onClick:()=>{var r;return r=t.id,void(c.getState().removeReportNote(e,r),p(r))},className:"opacity-0 group-hover:opacity-100 text-text-tertiary hover:text-red-400 transition-all",title:d.delete||"Delete",children:(0,r.jsx)("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]}),(0,r.jsx)("p",{className:"text-sm text-text-secondary whitespace-pre-wrap",children:t.note})]},t.id))}),(0,r.jsx)("form",{onSubmit:r=>{if(r.preventDefault(),!t.trim()||o)return;let s=t.trim();l(!0),a("");let n={id:-Date.now(),reportId:e,adminId:"pending",adminName:"You",note:s,createdAt:new Date().toISOString()};c.getState().addReportNote(n),x(e,s),setTimeout(()=>l(!1),500)},className:"p-4 border-t border-border",children:(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)("textarea",{value:t,onChange:e=>a(e.target.value),placeholder:d.add_note_placeholder||"Add a note...",className:"flex-1 px-3 py-2 text-sm bg-bg-tertiary border border-border rounded-lg resize-none focus:outline-none focus:border-accent text-text-primary placeholder:text-text-tertiary",rows:2,maxLength:1e3}),(0,r.jsx)(h,{type:"submit",size:"sm",variant:"primary",disabled:!t.trim()||o,children:(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})})]})})]})}let B=[{key:"license",label:"License",localeKey:"identifier_license"},{key:"steam",label:"Steam",localeKey:"identifier_steam"},{key:"discord",label:"Discord",localeKey:"identifier_discord"},{key:"fivem",label:"FiveM",localeKey:"identifier_fivem"}];function O({identifier:e,label:t,copyHint:a,onClose:o}){let l=(0,s.useRef)(null);return(0,s.useEffect)(()=>{l.current&&(l.current.focus(),l.current.select())},[]),(0,r.jsx)("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-[60]",onClick:o,children:(0,r.jsxs)("div",{className:"bg-bg-secondary border border-border rounded-lg p-4 w-full max-w-md shadow-xl",onClick:e=>e.stopPropagation(),children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,r.jsx)("span",{className:"text-sm font-medium text-text-primary",children:t}),(0,r.jsx)("button",{onClick:o,className:"text-text-tertiary hover:text-text-primary transition-colors",children:(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,r.jsx)("input",{ref:l,type:"text",value:e,readOnly:!0,className:"w-full px-3 py-2 text-sm font-mono bg-bg-tertiary border border-border rounded-lg text-text-primary focus:outline-none focus:border-accent select-all",onFocus:e=>e.target.select()}),(0,r.jsx)("p",{className:"text-xs text-text-tertiary mt-2 text-center",children:a})]})})}function P({playerId:e,playerName:t,onClose:a}){let[o,l]=(0,s.useState)("history"),[d,x]=(0,s.useState)(""),[p,u]=(0,s.useState)(!1),[b,v]=(0,s.useState)(null),{playerHistory:y,locale:g,categories:j}=c(),{getPlayerHistory:f,addPlayerNote:N,deletePlayerNote:w}=m();return(0,s.useEffect)(()=>{f(e)},[e,f]),(0,r.jsxs)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:a,children:[(0,r.jsxs)("div",{className:"bg-bg-secondary border border-border rounded-xl w-full max-w-4xl xl:max-w-5xl 2xl:max-w-7xl max-h-[80vh] flex flex-col shadow-xl",onClick:e=>e.stopPropagation(),children:[(0,r.jsxs)("div",{className:"flex items-center justify-between px-6 py-4 border-b border-border",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"w-10 h-10 bg-accent/20 rounded-full flex items-center justify-center",children:(0,r.jsx)("svg",{className:"w-5 h-5 text-accent",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-lg font-semibold text-text-primary",children:t}),(0,r.jsx)("p",{className:"text-xs text-text-tertiary font-mono",children:e})]})]}),(0,r.jsx)("button",{onClick:a,className:"text-text-tertiary hover:text-text-primary transition-colors",children:(0,r.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),y?.identifiers&&Object.keys(y.identifiers).length>0&&(0,r.jsx)("div",{className:"px-6 py-3 border-b border-border bg-bg-tertiary/30",children:(0,r.jsx)("div",{className:"grid grid-cols-2 xl:grid-cols-4 gap-2",children:B.map(({key:e,label:t,localeKey:s})=>{let a=y.identifiers?.[e];if(!a)return null;let o=g[s]||t;return(0,r.jsxs)("button",{onClick:()=>v({value:a,label:o}),className:"flex items-center gap-2 px-3 py-2 bg-bg-card hover:bg-bg-elevated border border-border rounded-lg transition-colors group text-left",title:a,children:[(0,r.jsx)("span",{className:"text-xs font-medium text-text-tertiary min-w-[52px]",children:o}),(0,r.jsx)("span",{className:"flex-1 text-xs text-text-secondary font-mono truncate",children:a.length<=20?a:a.substring(0,17)+"..."}),(0,r.jsx)("svg",{className:"w-4 h-4 text-text-tertiary group-hover:text-text-secondary flex-shrink-0 transition-colors",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})]},e)})})}),y&&(0,r.jsxs)("div",{className:"flex items-center gap-6 px-6 py-3 border-b border-border bg-bg-tertiary/50",children:[(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("p",{className:"text-2xl font-bold text-text-primary",children:y.totalReports}),(0,r.jsx)("p",{className:"text-xs text-text-tertiary",children:g.total_reports||"Total Reports"})]}),(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("p",{className:"text-2xl font-bold text-warning",children:y.openReports}),(0,r.jsx)("p",{className:"text-xs text-text-tertiary",children:g.open_reports||"Open"})]}),(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("p",{className:"text-2xl font-bold text-success",children:y.resolvedReports}),(0,r.jsx)("p",{className:"text-xs text-text-tertiary",children:g.resolved_reports||"Resolved"})]}),(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("p",{className:"text-2xl font-bold text-accent",children:y.notes?.length||0}),(0,r.jsx)("p",{className:"text-xs text-text-tertiary",children:g.notes||"Notes"})]})]}),(0,r.jsxs)("div",{className:"flex border-b border-border",children:[(0,r.jsx)("button",{onClick:()=>l("history"),className:`flex-1 px-4 py-3 text-sm font-medium transition-colors border-b-2 -mb-px ${"history"===o?"border-accent text-text-primary":"border-transparent text-text-tertiary hover:text-text-secondary"}`,children:(0,r.jsxs)("span",{className:"flex items-center justify-center gap-2",children:[(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),g.report_history||"Report History"]})}),(0,r.jsx)("button",{onClick:()=>l("notes"),className:`flex-1 px-4 py-3 text-sm font-medium transition-colors border-b-2 -mb-px ${"notes"===o?"border-accent text-text-primary":"border-transparent text-text-tertiary hover:text-text-secondary"}`,children:(0,r.jsxs)("span",{className:"flex items-center justify-center gap-2",children:[(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),g.player_notes||"Player Notes"]})})]}),(0,r.jsx)("div",{className:"flex-1 overflow-y-auto",children:"history"===o?(0,r.jsx)("div",{className:"p-4 space-y-3",children:y&&0!==y.reports.length?y.reports.map(e=>{var t;let s;return(0,r.jsxs)("div",{className:"p-4 bg-bg-card border border-border rounded-lg",children:[(0,r.jsxs)("div",{className:"flex items-start justify-between gap-3 mb-2",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsxs)("span",{className:"font-mono text-xs text-text-tertiary",children:["#",e.id]}),(0,r.jsx)(k,{variant:(e=>{switch(e){case"open":return"open";case"claimed":return"claimed";case"resolved":return"resolved";default:return"default"}})(e.status),children:g[`status_${e.status}`]||e.status}),(0,r.jsx)(_,{priority:e.priority,size:"sm"})]}),(0,r.jsx)("span",{className:"text-xs text-text-tertiary",children:i(e.createdAt)})]}),(0,r.jsx)("h4",{className:"text-sm font-medium text-text-primary mb-1",children:e.subject}),(0,r.jsxs)("div",{className:"flex items-center gap-3 text-xs text-text-tertiary",children:[(0,r.jsx)("span",{className:"px-2 py-0.5 bg-bg-elevated rounded",children:(t=e.category,s=j.find(e=>e.id===t),s?.label||t)}),e.claimedByName&&(0,r.jsxs)("span",{className:"flex items-center gap-1",children:[(0,r.jsx)("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),e.claimedByName]}),e.resolvedAt&&(0,r.jsxs)("span",{children:[g.resolved_at||"Resolved",": ",n(e.resolvedAt)]})]})]},e.id)}):(0,r.jsx)("p",{className:"text-sm text-text-tertiary text-center py-8",children:g.no_report_history||"No report history"})}):(0,r.jsxs)("div",{className:"flex flex-col h-full",children:[(0,r.jsx)("div",{className:"flex-1 p-4 space-y-3 overflow-y-auto",children:y&&0!==y.notes.length?y.notes.map(t=>(0,r.jsxs)("div",{className:"p-3 bg-bg-tertiary rounded-lg group",children:[(0,r.jsxs)("div",{className:"flex items-start justify-between gap-2 mb-2",children:[(0,r.jsx)("span",{className:"text-xs font-medium text-accent",children:t.adminName}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("span",{className:"text-[10px] xl:text-xs text-text-tertiary",children:i(t.createdAt)}),(0,r.jsx)("button",{onClick:()=>{var r;return r=t.id,void(y&&c.getState().setPlayerHistory({...y,notes:y.notes.filter(e=>e.id!==r)}),c.getState().removePlayerNote(e,r),w(r))},className:"opacity-0 group-hover:opacity-100 text-text-tertiary hover:text-red-400 transition-all",title:g.delete||"Delete",children:(0,r.jsx)("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]}),(0,r.jsx)("p",{className:"text-sm text-text-secondary whitespace-pre-wrap",children:t.note})]},t.id)):(0,r.jsx)("p",{className:"text-sm text-text-tertiary text-center py-8",children:g.no_player_notes||"No notes for this player"})}),(0,r.jsx)("form",{onSubmit:t=>{if(t.preventDefault(),!d.trim()||p)return;let r=d.trim();u(!0),x("");let s={id:-Date.now(),playerId:e,adminId:"pending",adminName:"You",note:r,createdAt:new Date().toISOString()};y&&c.getState().setPlayerHistory({...y,notes:[s,...y.notes]}),N(e,r),setTimeout(()=>u(!1),500)},className:"p-4 border-t border-border",children:(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)("textarea",{value:d,onChange:e=>x(e.target.value),placeholder:g.add_player_note_placeholder||"Add a note about this player...",className:"flex-1 px-3 py-2 text-sm bg-bg-tertiary border border-border rounded-lg resize-none focus:outline-none focus:border-accent text-text-primary placeholder:text-text-tertiary",rows:2,maxLength:1e3}),(0,r.jsx)(h,{type:"submit",size:"sm",variant:"primary",disabled:!d.trim()||p,children:(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})})]})})]})})]}),b&&(0,r.jsx)(O,{identifier:b.value,label:b.label,copyHint:g.copy_hint||"Ctrl+C to copy",onClose:()=>v(null)})]})}function W({isOpen:e,onClose:t,reportId:a,item:o,action:l,itemList:n}){let{locale:i}=c(),{addInventoryItem:d,removeInventoryItem:x,setInventoryItemCount:p,setInventoryItemMetadata:u}=m(),[b,v]=(0,s.useState)(o?.name||""),[y,g]=(0,s.useState)(o?.count||1),[j,f]=(0,s.useState)(o?.metadata?JSON.stringify(o.metadata,null,2):"{}"),[N,k]=(0,s.useState)("");if(!e)return null;let w=Object.entries(n).filter(([e,t])=>e.toLowerCase().includes(N.toLowerCase())||t.label.toLowerCase().includes(N.toLowerCase()));return(0,r.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:(0,r.jsxs)("div",{className:"bg-bg-secondary border border-border rounded-lg p-6 w-[400px] max-h-[80vh] overflow-y-auto",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-text-primary mb-4",children:(()=>{switch(l){case"add":return i.item_add||"Add Item";case"remove":return i.item_remove||"Remove Item";case"set":return i.item_set_count||"Set Count";case"metadata":return i.item_edit_metadata||"Edit Metadata"}})()}),"metadata"!==l&&(0,r.jsxs)(r.Fragment,{children:[!o&&(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("label",{className:"block text-sm text-text-secondary mb-2",children:i.item_select||"Select Item"}),(0,r.jsx)("input",{type:"text",className:"w-full px-3 py-2 bg-bg-tertiary border border-border rounded-lg text-text-primary text-sm mb-2",placeholder:i.item_search||"Search items...",value:N,onChange:e=>k(e.target.value)}),(0,r.jsx)("div",{className:"max-h-40 overflow-y-auto bg-bg-tertiary border border-border rounded-lg",children:w.slice(0,50).map(([e,t])=>(0,r.jsxs)("button",{className:`w-full px-3 py-2 text-left text-sm hover:bg-bg-secondary transition-colors flex items-center gap-2 ${b===e?"bg-accent/20 text-accent":"text-text-primary"}`,onClick:()=>v(e),children:[t.image&&(0,r.jsx)("img",{src:t.image,alt:t.label,className:"w-6 h-6 object-contain",onError:e=>{e.target.style.display="none"}}),(0,r.jsx)("span",{className:"font-medium",children:t.label}),(0,r.jsxs)("span",{className:"text-text-tertiary ml-auto",children:["(",e,")"]})]},e))})]}),(o||b)&&(0,r.jsxs)("div",{className:"mb-4 p-2 bg-bg-tertiary rounded-lg flex items-center gap-2",children:[(o?.image||n[b]?.image)&&(0,r.jsx)("img",{src:o?.image||n[b]?.image,alt:o?.label||n[b]?.label||b,className:"w-8 h-8 object-contain",onError:e=>{e.target.style.display="none"}}),(0,r.jsx)("span",{className:"text-text-primary text-sm",children:o?.label||n[b]?.label||b})]}),(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("label",{className:"block text-sm text-text-secondary mb-2",children:i.item_count||"Count"}),(0,r.jsx)("input",{type:"number",className:"w-full px-3 py-2 bg-bg-tertiary border border-border rounded-lg text-text-primary text-sm",value:y,onChange:e=>g(Math.max(+("set"!==l),parseInt(e.target.value)||0)),min:+("set"!==l),max:1e3})]}),"add"===l&&(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsxs)("label",{className:"block text-sm text-text-secondary mb-2",children:[i.item_metadata||"Metadata"," (JSON, optional)"]}),(0,r.jsx)("textarea",{className:"w-full px-3 py-2 bg-bg-tertiary border border-border rounded-lg text-text-primary text-sm font-mono h-24",value:j,onChange:e=>f(e.target.value),placeholder:"{}"})]})]}),"metadata"===l&&(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsxs)("label",{className:"block text-sm text-text-secondary mb-2",children:[i.item_metadata||"Metadata"," (JSON)"]}),(0,r.jsx)("textarea",{className:"w-full px-3 py-2 bg-bg-tertiary border border-border rounded-lg text-text-primary text-sm font-mono h-48",value:j,onChange:e=>f(e.target.value)})]}),(0,r.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,r.jsx)(h,{variant:"ghost",size:"sm",onClick:t,children:i.cancel||"Cancel"}),(0,r.jsx)(h,{variant:"remove"===l?"danger":"primary",size:"sm",onClick:()=>{if(b||"metadata"===l){switch(l){case"add":try{let e="{}"!==j?JSON.parse(j):void 0;d(a,b,y,e)}catch{d(a,b,y)}break;case"remove":x(a,b,y,o?.slot);break;case"set":p(a,b,y);break;case"metadata":if(o?.slot)try{let e=JSON.parse(j);u(a,o.slot,e)}catch{return}}t()}},disabled:!b&&"metadata"!==l,children:i.confirm||"Confirm"})]})]})})}function H({reportId:e,isPlayerOnline:t}){let{locale:a,getInventory:o,setInventoryLoading:l}=c(),{getPlayerInventory:n}=m(),[i,d]=(0,s.useState)({isOpen:!1,action:"add"}),[x,p]=(0,s.useState)(""),u=o(e);(0,s.useEffect)(()=>{t&&!u&&(l(e,!0),n(e))},[e,t,u,n,l]);let b=(e,t)=>{d({isOpen:!0,action:e,item:t})},v=u?.items?.filter(e=>e.name.toLowerCase().includes(x.toLowerCase())||e.label.toLowerCase().includes(x.toLowerCase()))||[];return t?u?.loading?(0,r.jsxs)("div",{className:"flex-1 flex flex-col items-center justify-center text-text-tertiary p-6",children:[(0,r.jsxs)("svg",{className:"w-8 h-8 animate-spin mb-3",fill:"none",viewBox:"0 0 24 24",children:[(0,r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,r.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,r.jsx)("p",{className:"text-sm",children:a.inventory_loading||"Loading inventory..."})]}):(0,r.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden",children:[(0,r.jsxs)("div",{className:"px-4 py-3 border-b border-border flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("h3",{className:"text-sm font-medium text-text-primary",children:a.inventory||"Inventory"}),u?.systemName&&(0,r.jsx)("span",{className:"text-xs text-text-tertiary px-2 py-0.5 bg-bg-tertiary rounded",children:u.systemName})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(h,{variant:"ghost",size:"sm",onClick:()=>{l(e,!0),n(e)},children:(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}),(0,r.jsxs)(h,{variant:"primary",size:"sm",onClick:()=>b("add"),children:[(0,r.jsx)("svg",{className:"w-4 h-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),a.item_add||"Add"]})]})]}),(0,r.jsx)("div",{className:"px-4 py-2 border-b border-border",children:(0,r.jsx)("input",{type:"text",className:"w-full px-3 py-1.5 bg-bg-tertiary border border-border rounded text-text-primary text-sm",placeholder:a.item_search||"Search items...",value:x,onChange:e=>p(e.target.value)})}),(0,r.jsx)("div",{className:"flex-1 overflow-y-auto p-4",children:0===v.length?(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center h-full text-text-tertiary",children:[(0,r.jsx)("svg",{className:"w-10 h-10 mb-2 opacity-30",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})}),(0,r.jsx)("p",{className:"text-sm",children:a.inventory_empty||"Player inventory is empty"})]}):(0,r.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-2",children:v.map((e,t)=>(0,r.jsxs)("div",{className:"bg-bg-tertiary border border-border rounded-lg p-3 hover:border-accent/50 transition-colors group",children:[(0,r.jsxs)("div",{className:"flex gap-2 mb-2",children:[e.image&&(0,r.jsx)("div",{className:"w-10 h-10 flex-shrink-0 bg-bg-secondary rounded overflow-hidden",children:(0,r.jsx)("img",{src:e.image,alt:e.label,className:"w-full h-full object-contain",onError:e=>{e.target.style.display="none"}})}),(0,r.jsxs)("div",{className:"flex-1 min-w-0 flex justify-between items-start",children:[(0,r.jsxs)("div",{className:"min-w-0",children:[(0,r.jsx)("p",{className:"text-sm font-medium text-text-primary truncate",children:e.label}),(0,r.jsx)("p",{className:"text-xs text-text-tertiary truncate",children:e.name})]}),(0,r.jsxs)("span",{className:"text-sm font-bold text-accent ml-2",children:["x",e.count]})]})]}),(0,r.jsxs)("div",{className:"text-xs text-text-tertiary space-y-0.5 mb-2",children:[e.slot&&(0,r.jsxs)("p",{children:["Slot: ",e.slot]}),e.weight&&(0,r.jsxs)("p",{children:["Weight: ",e.weight]}),e.metadata&&Object.keys(e.metadata).length>0&&(0,r.jsx)("p",{className:"text-accent",children:"Has metadata"})]}),(0,r.jsxs)("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[(0,r.jsx)("button",{className:"flex-1 px-2 py-1 text-xs bg-green-600/20 text-green-400 hover:bg-green-600/30 rounded transition-colors",onClick:()=>b("add",e),title:a.item_add||"Add",children:"+"}),(0,r.jsx)("button",{className:"flex-1 px-2 py-1 text-xs bg-red-600/20 text-red-400 hover:bg-red-600/30 rounded transition-colors",onClick:()=>b("remove",e),title:a.item_remove||"Remove",children:"-"}),(0,r.jsx)("button",{className:"flex-1 px-2 py-1 text-xs bg-blue-600/20 text-blue-400 hover:bg-blue-600/30 rounded transition-colors",onClick:()=>b("set",e),title:a.item_set_count||"Set",children:"="}),u?.supportsMetadata&&e.slot&&(0,r.jsx)("button",{className:"flex-1 px-2 py-1 text-xs bg-purple-600/20 text-purple-400 hover:bg-purple-600/30 rounded transition-colors",onClick:()=>b("metadata",e),title:a.item_edit_metadata||"Metadata",children:"{ }"})]})]},`${e.name}-${e.slot||t}`))})}),(0,r.jsxs)("div",{className:"px-4 py-2 border-t border-border text-xs text-text-tertiary",children:[v.length," ",a.inventory_items||"items",u?.items&&v.length!==u.items.length&&(0,r.jsxs)("span",{children:[" (",a.filter||"filtered",": ",u.items.length," total)"]})]}),i.isOpen&&(0,r.jsx)(W,{isOpen:i.isOpen,onClose:()=>{d({isOpen:!1,action:"add"})},reportId:e,item:i.item,action:i.action,itemList:u?.itemList||{}},`${i.action}-${i.item?.name||"new"}-${i.item?.slot||0}`)]}):(0,r.jsxs)("div",{className:"flex-1 flex flex-col items-center justify-center text-text-tertiary p-6",children:[(0,r.jsx)("svg",{className:"w-12 h-12 mb-3 opacity-30",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})}),(0,r.jsx)("p",{className:"text-sm",children:a.inventory_player_offline||"Cannot view inventory - player is offline"})]})}function $(){let{getSelectedReport:e,playerData:t,categories:a,locale:o,activeTab:l}=c(),[i,d]=(0,s.useState)("report"),[x,p]=(0,s.useState)("chat"),[u,b]=(0,s.useState)(!1),{claimReport:v,unclaimReport:y,resolveReport:g,deleteReport:j,adminAction:f}=m(),N=e();if(!N)return(0,r.jsxs)("div",{className:"flex-1 flex flex-col items-center justify-center text-text-tertiary",children:[(0,r.jsx)("svg",{className:"w-16 h-16 mb-4 opacity-20",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M15 5v2m0 4v2m0 4v2M5 5a2 2 0 00-2 2v3a2 2 0 110 4v3a2 2 0 002 2h14a2 2 0 002-2v-3a2 2 0 110-4V7a2 2 0 00-2-2H5z"})}),(0,r.jsx)("p",{className:"text-sm",children:o.select_report||"Select a report to view details"})]});let w=a.find(e=>e.id===N.category),C=t?.isAdmin,L=N.playerId===t?.identifier,R="claimed"===N.status,S="resolved"===N.status,M=N.claimedBy===t?.identifier,I=L&&!R||C;return(0,r.jsxs)("main",{className:"flex-1 flex flex-col overflow-hidden",children:[(0,r.jsxs)("div",{className:"px-6 py-4 border-b border-border",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 px-3 py-2 mb-3 bg-bg-tertiary/50 rounded-lg",children:[(0,r.jsxs)("span",{className:"font-mono text-xs text-text-tertiary",children:["#",N.id]}),(0,r.jsx)(k,{variant:(()=>{switch(N.status){case"open":return"open";case"claimed":return"claimed";case"resolved":return"resolved";default:return"default"}})(),children:o[`status_${N.status}`]||N.status}),C&&"admin"===l?(0,r.jsx)(D,{reportId:N.id,currentPriority:N.priority}):(0,r.jsx)(_,{priority:N.priority})]}),(0,r.jsx)("h2",{className:"text-lg font-semibold text-text-primary mb-2",children:N.subject}),(0,r.jsxs)("div",{className:"flex flex-wrap items-center gap-3 text-sm text-text-secondary",children:[C&&"admin"===l?(0,r.jsxs)("button",{onClick:()=>b(!0),className:"flex items-center gap-1.5 hover:text-accent transition-colors",children:[(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),N.playerName,(0,r.jsx)("span",{className:`w-2 h-2 rounded-full ${N.isPlayerOnline?"bg-green-500":"bg-red-500"}`,title:N.isPlayerOnline?"Online":"Offline"}),(0,r.jsx)("svg",{className:"w-3 h-3 ml-0.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})]}):(0,r.jsxs)("span",{className:"flex items-center gap-1.5",children:[(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),N.playerName,(0,r.jsx)("span",{className:`w-2 h-2 rounded-full ${N.isPlayerOnline?"bg-green-500":"bg-red-500"}`,title:N.isPlayerOnline?"Online":"Offline"})]}),w&&(0,r.jsxs)("span",{className:"flex items-center gap-1.5",children:[(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})}),w.label]}),(0,r.jsxs)("span",{className:"flex items-center gap-1.5",children:[(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),n(N.createdAt)]}),N.claimedByName&&(0,r.jsxs)("span",{className:"flex items-center gap-1.5 text-warning",children:[(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),N.claimedByName]})]})]}),u&&(0,r.jsx)(P,{playerId:N.playerId,playerName:N.playerName,onClose:()=>b(!1)}),N.description&&(0,r.jsx)("div",{className:"px-6 py-3 border-b border-border",children:(0,r.jsx)("div",{className:"p-3 bg-bg-card border border-border rounded-lg max-h-[100px] xl:max-h-[140px] 2xl:max-h-[180px] overflow-y-auto",children:(0,r.jsx)("p",{className:"text-sm text-text-secondary leading-relaxed whitespace-pre-wrap",children:N.description})})}),C&&"admin"===l?(0,r.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden",children:[(0,r.jsxs)("div",{className:"flex border-b border-border",children:[(0,r.jsx)("button",{onClick:()=>p("chat"),className:`px-4 py-2 text-xs font-medium transition-colors border-b-2 -mb-px ${"chat"===x?"border-accent text-text-primary":"border-transparent text-text-tertiary hover:text-text-secondary"}`,children:o.chat||"Chat"}),(0,r.jsx)("button",{onClick:()=>p("notes"),className:`px-4 py-2 text-xs font-medium transition-colors border-b-2 -mb-px ${"notes"===x?"border-accent text-text-primary":"border-transparent text-text-tertiary hover:text-text-secondary"}`,children:o.admin_notes||"Notes"}),(0,r.jsx)("button",{onClick:()=>p("inventory"),className:`px-4 py-2 text-xs font-medium transition-colors border-b-2 -mb-px ${"inventory"===x?"border-accent text-text-primary":"border-transparent text-text-tertiary hover:text-text-secondary"}`,children:o.inventory||"Inventory"})]}),"chat"===x?(0,r.jsx)(z,{report:N}):"notes"===x?(0,r.jsx)(T,{reportId:N.id}):(0,r.jsx)(H,{reportId:N.id,isPlayerOnline:N.isPlayerOnline})]}):(0,r.jsx)(z,{report:N}),!S&&(0,r.jsxs)("div",{className:"bg-bg-secondary border-t border-border",children:[C&&"admin"===l&&(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsxs)("div",{className:"flex items-center justify-center gap-0 border-b border-border",children:[(0,r.jsx)("button",{onClick:()=>d("report"),className:`px-4 py-2 text-xs font-medium transition-colors border-b-2 -mb-px ${"report"===i?"border-accent text-text-primary bg-bg-secondary":"border-transparent text-text-tertiary hover:text-text-secondary"}`,children:o.report||"Report"}),(0,r.jsx)("button",{onClick:()=>d("player"),className:`px-4 py-2 text-xs font-medium transition-colors border-b-2 -mb-px ${"player"===i?"border-accent text-text-primary bg-bg-secondary":"border-transparent text-text-tertiary hover:text-text-secondary"}`,children:o.player||"Player"}),(0,r.jsx)("button",{onClick:()=>d("moderation"),className:`px-4 py-2 text-xs font-medium transition-colors border-b-2 -mb-px ${"moderation"===i?"border-accent text-text-primary bg-bg-secondary":"border-transparent text-text-tertiary hover:text-text-secondary"}`,children:o.moderation||"Moderation"})]}),(0,r.jsxs)("div",{className:"flex items-center justify-center gap-2 px-6 py-3",children:["report"===i&&(0,r.jsxs)(r.Fragment,{children:[R?M&&(0,r.jsx)(h,{size:"sm",variant:"ghost",onClick:()=>y(N.id),children:o.unclaim_report||"Unclaim"}):(0,r.jsxs)(h,{size:"sm",variant:"primary",onClick:()=>v(N.id),children:[(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 11.5V14m0-2.5v-6a1.5 1.5 0 113 0m-3 6a1.5 1.5 0 00-3 0v2a7.5 7.5 0 0015 0v-5a1.5 1.5 0 00-3 0m-6-3V11m0-5.5v-1a1.5 1.5 0 013 0v1m0 0V11m0-5.5a1.5 1.5 0 013 0v3m0 0V11"})}),o.claim_report||"Claim"]}),(0,r.jsxs)(h,{size:"sm",variant:"success",onClick:()=>g(N.id),children:[(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),o.resolve_report||"Resolve"]}),I&&(0,r.jsxs)(h,{size:"sm",variant:"danger",onClick:()=>j(N.id),children:[(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),o.delete||"Delete"]})]}),"player"===i&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(h,{size:"sm",variant:"ghost",onClick:()=>f(N.id,"teleport_to"),children:[(0,r.jsxs)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),o.teleport_to||"Goto"]}),(0,r.jsxs)(h,{size:"sm",variant:"ghost",onClick:()=>f(N.id,"bring_player"),children:[(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})}),o.bring_player||"Bring"]}),(0,r.jsxs)(h,{size:"sm",variant:"ghost",onClick:()=>f(N.id,"heal_player"),children:[(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}),o.heal_player||"Heal"]}),(0,r.jsxs)(h,{size:"sm",variant:"ghost",onClick:()=>f(N.id,"revive_player"),children:[(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),o.revive_player||"Revive"]})]}),"moderation"===i&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(h,{size:"sm",variant:"ghost",onClick:()=>f(N.id,"freeze_player"),children:[(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707"})}),o.freeze_player||"Freeze"]}),(0,r.jsxs)(h,{size:"sm",variant:"ghost",onClick:()=>f(N.id,"spectate_player"),children:[(0,r.jsxs)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),o.spectate_player||"Spectate"]}),(0,r.jsxs)(h,{size:"sm",variant:"ghost",onClick:()=>f(N.id,"ragdoll_player"),children:[(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14.828 14.828a4 4 0 01-5.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),o.ragdoll_player||"Ragdoll"]}),(0,r.jsxs)(h,{size:"sm",variant:"ghost",onClick:()=>f(N.id,"screenshot_player"),children:[(0,r.jsxs)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]}),o.screenshot_player||"Screenshot"]}),(0,r.jsxs)(h,{size:"sm",variant:"danger",onClick:()=>f(N.id,"kick_player"),children:[(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),o.kick_player||"Kick"]})]})]})]}),!C&&I&&(0,r.jsx)("div",{className:"px-6 py-3",children:(0,r.jsxs)(h,{size:"sm",variant:"danger",onClick:()=>j(N.id),children:[(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),o.delete||"Delete"]})})]})]})}let V="#3b82f6",U="#22c55e",F="#eab308",Y="#a855f7",K="#06b6d4",G=["#6b7280","#3b82f6","#eab308","#ef4444"],J=[V,U,F,Y,K];function q({data:e,size:t=120}){let a=e.reduce((e,t)=>e+t.value,0),o=(0,s.useMemo)(()=>{if(0===a)return null;let t=0;return e.map(e=>{let r=e.value/a*100,s=t;return t+=r,`${e.color} ${s}% ${t}%`}).join(", ")},[e,a]);return 0===a?(0,r.jsx)("div",{className:"rounded-full bg-bg-elevated flex items-center justify-center text-text-muted text-xs",style:{width:t,height:t},children:"No data"}):(0,r.jsx)("div",{className:"rounded-full",style:{width:t,height:t,background:`conic-gradient(${o})`}})}function X({data:e,maxValue:t}){let s=t||Math.max(...e.map(e=>e.value),1);return(0,r.jsx)("div",{className:"space-y-2",children:e.map((e,t)=>(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("span",{className:"text-xs text-text-secondary w-20 truncate",title:e.label,children:e.label}),(0,r.jsx)("div",{className:"flex-1 h-6 bg-bg-elevated rounded overflow-hidden",children:(0,r.jsx)("div",{className:"h-full rounded transition-all duration-500 flex items-center justify-end pr-2",style:{width:`${e.value/s*100}%`,backgroundColor:e.color||V,minWidth:e.value>0?"24px":"0"},children:(0,r.jsx)("span",{className:"text-xs font-medium text-white drop-shadow",children:e.value})})})]},t))})}function Z({label:e,value:t,icon:s,color:a=V,subtext:o}){return(0,r.jsx)("div",{className:"bg-bg-card rounded-lg p-4 border border-border",children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center",style:{backgroundColor:`${a}20`},children:(0,r.jsx)("div",{style:{color:a},children:s})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-2xl font-bold text-text-primary",children:t}),(0,r.jsx)("p",{className:"text-xs text-text-secondary",children:e}),o&&(0,r.jsx)("p",{className:"text-[10px] text-text-muted",children:o})]})]})})}function Q(){let e,{statistics:t,locale:a}=c(),{getStatistics:o}=m();if((0,s.useEffect)(()=>{o()},[o]),!t)return(0,r.jsxs)("div",{className:"flex-1 flex items-center justify-center text-text-muted",children:[(0,r.jsxs)("svg",{className:"w-6 h-6 animate-spin mr-2",fill:"none",viewBox:"0 0 24 24",children:[(0,r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,r.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),a.loading||"Loading..."]});let l=[{label:a.status_open||"Open",value:t.openReports,color:F},{label:a.status_claimed||"Claimed",value:t.claimedReports,color:V},{label:a.status_resolved||"Resolved",value:t.resolvedReports,color:U}],n=t.reportsByCategory.map((e,t)=>({label:a[`category_${e.category}`]||e.category,value:e.count,color:J[t%J.length]})),i=t.reportsByPriority.map(e=>({label:[a.low||"Low",a.normal||"Normal",a.high||"High",a.urgent||"Urgent"][e.priority],value:e.count,color:G[e.priority]})),d=t.adminLeaderboard.map((e,t)=>({label:e.adminName,value:e.resolved,color:[V,U,F,Y,K][t%5]}));return(0,r.jsx)("div",{className:"flex-1 overflow-y-auto p-6",children:(0,r.jsxs)("div",{className:"max-w-6xl mx-auto space-y-6",children:[(0,r.jsxs)("div",{className:"grid grid-cols-2 xl:grid-cols-4 gap-4",children:[(0,r.jsx)(Z,{label:a.total_reports||"Total Reports",value:t.totalReports,color:V,icon:(0,r.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),(0,r.jsx)(Z,{label:a.status_open||"Open",value:t.openReports,color:F,icon:(0,r.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,r.jsx)(Z,{label:a.status_claimed||"Claimed",value:t.claimedReports,color:V,icon:(0,r.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),(0,r.jsx)(Z,{label:a.status_resolved||"Resolved",value:t.resolvedReports,color:U,subtext:t.avgResolutionTime>0?`${a.avg_time||"Avg"}: ${(e=>{if(e<60)return`${Math.round(e)}m`;let t=Math.floor(e/60),r=Math.round(e%60);return`${t}h ${r}m`})(t.avgResolutionTime)}`:void 0,icon:(0,r.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{className:"bg-bg-card rounded-lg p-5 border border-border",children:[(0,r.jsx)("h3",{className:"text-sm font-semibold text-text-primary mb-4",children:a.reports_by_status||"Reports by Status"}),(0,r.jsxs)("div",{className:"flex items-center gap-6",children:[(0,r.jsx)(q,{data:l,size:100}),(0,r.jsx)("div",{className:"space-y-2",children:l.map(e=>(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:e.color}}),(0,r.jsx)("span",{className:"text-xs text-text-secondary",children:e.label}),(0,r.jsx)("span",{className:"text-xs font-medium text-text-primary ml-auto",children:e.value})]},e.label))})]})]}),(0,r.jsxs)("div",{className:"bg-bg-card rounded-lg p-5 border border-border",children:[(0,r.jsx)("h3",{className:"text-sm font-semibold text-text-primary mb-4",children:a.reports_by_category||"Reports by Category"}),(0,r.jsxs)("div",{className:"flex items-center gap-6",children:[(0,r.jsx)(q,{data:n,size:100}),(0,r.jsx)("div",{className:"space-y-2 flex-1",children:n.map(e=>(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:e.color}}),(0,r.jsx)("span",{className:"text-xs text-text-secondary truncate",children:e.label}),(0,r.jsx)("span",{className:"text-xs font-medium text-text-primary ml-auto",children:e.value})]},e.label))})]})]}),(0,r.jsxs)("div",{className:"bg-bg-card rounded-lg p-5 border border-border",children:[(0,r.jsx)("h3",{className:"text-sm font-semibold text-text-primary mb-4",children:a.reports_by_priority||"Reports by Priority"}),(0,r.jsx)(X,{data:i})]}),(0,r.jsxs)("div",{className:"bg-bg-card rounded-lg p-5 border border-border",children:[(0,r.jsx)("h3",{className:"text-sm font-semibold text-text-primary mb-4",children:a.admin_leaderboard||"Admin Leaderboard"}),d.length>0?(0,r.jsx)("div",{className:"space-y-3",children:d.slice(0,5).map((e,t)=>(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"w-7 h-7 rounded-full flex items-center justify-center text-xs font-bold text-white",style:{backgroundColor:0===t?F:1===t?"#9ca3af":2===t?"#b45309":V},children:t+1}),(0,r.jsx)("span",{className:"text-sm text-text-primary flex-1 truncate",children:e.label}),(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsx)("span",{className:"text-sm font-semibold text-text-primary",children:e.value}),(0,r.jsx)("span",{className:"text-xs text-text-muted ml-1",children:a.resolved||"resolved"})]})]},e.label))}):(0,r.jsx)("p",{className:"text-sm text-text-muted text-center py-4",children:a.no_data||"No data available"})]})]}),t.recentActivity&&t.recentActivity.length>0&&(0,r.jsxs)("div",{className:"bg-bg-card rounded-lg p-5 border border-border",children:[(0,r.jsx)("h3",{className:"text-sm font-semibold text-text-primary mb-4",children:a.recent_activity||"Recent Activity (Last 7 Days)"}),(0,r.jsx)("div",{className:"flex items-end gap-2",children:(e=Math.max(...t.recentActivity.map(e=>e.count),1),t.recentActivity.map((t,s)=>{var a;let o,l=t.count/e*100;return(0,r.jsxs)("div",{className:"flex-1 flex flex-col items-center gap-1",children:[(0,r.jsx)("span",{className:"text-xs text-text-secondary",children:t.count}),(0,r.jsx)("div",{className:"w-full h-24 flex items-end",children:(0,r.jsx)("div",{className:"w-full rounded-t transition-all duration-300",style:{height:`${Math.max(l,4)}%`,backgroundColor:V}})}),(0,r.jsx)("span",{className:"text-[10px] text-text-muted",children:isNaN((o=new Date("number"==typeof(a=t.date)?1e3*a:a+"T00:00:00")).getTime())?String(a):o.toLocaleDateString("de-DE",{weekday:"short"})})]},s)}))})]})]})})}function ee(){let{screenshotPopup:e,closeScreenshotPopup:t}=c();return e.isOpen&&e.imageData?(0,r.jsx)("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/90 backdrop-blur-sm",onClick:t,children:(0,r.jsxs)("div",{className:"relative max-w-[90vw] max-h-[90vh] flex flex-col bg-bg-secondary rounded-lg shadow-xl",onClick:e=>e.stopPropagation(),children:[(0,r.jsxs)("div",{className:"flex items-center justify-between px-6 py-4 border-b border-border",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-text-primary",children:"Screenshot Captured"}),(0,r.jsxs)("p",{className:"text-sm text-text-secondary",children:["From: ",e.playerName," • Report #",e.reportId]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsxs)(h,{variant:"secondary",size:"sm",onClick:()=>{if(!e.imageData)return;let t=document.createElement("a");t.href=e.imageData,t.download=`screenshot_${e.playerName}_${e.reportId}_${Date.now()}.jpg`,t.click()},children:[(0,r.jsx)("svg",{className:"w-4 h-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Download"]}),(0,r.jsx)("button",{onClick:t,className:"text-text-tertiary hover:text-text-primary transition-colors",children:(0,r.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),(0,r.jsx)("div",{className:"flex-1 overflow-auto p-4",children:(0,r.jsx)("img",{src:e.imageData,alt:"Screenshot",className:"max-w-full max-h-[calc(90vh-120px)] mx-auto rounded-lg"})})]})}):null}function et(){let e,{isVisible:t,theme:a,activeTab:o,setVisible:l,setTheme:n,setPlayerData:i,setCategories:x,setLocale:p,setMyReports:u,setAllReports:h,setStatistics:b}=c(),{close:v}=m();return e=c(),(0,s.useEffect)(()=>{var t;let r,s=(t=(t,r)=>{switch(t){case"SHOW_UI":e.setVisible(!0),e.setTheme(r.theme),e.setCategories(r.categories),e.setPriorities(r.priorities||[]),e.setMyReports(r.myReports||[]),e.setAllReports(r.allReports||[]),e.setPlayerData(r.playerData),e.setLocale(r.locale||{}),e.setVoiceMessagesEnabled(r.voiceMessagesEnabled??!1);break;case"HIDE_UI":e.setVisible(!1),e.setSelectedReportId(null),e.setIsCreatingReport(!1);break;case"SET_REPORTS":e.setMyReports(r);break;case"SET_ALL_REPORTS":e.setAllReports(r);break;case"ADD_REPORT":case"NEW_ADMIN_REPORT":e.addReport(r);break;case"UPDATE_REPORT":e.updateReport(r);break;case"REMOVE_REPORT":{let{id:t}=r;e.removeReport(t);break}case"NEW_MESSAGE":case"MESSAGE_SENT":e.addMessage(r);break;case"SET_MESSAGES":e.setMessages(r.reportId,r.messages);break;case"NOTIFICATION":e.addNotification({message:r.message,type:r.notifyType});break;case"PLAY_SOUND":((e,t=.5)=>{if(!window.invokeNative)return console.log(`[NUI] Playing sound: ${e} at volume ${t}`);let r=new Audio(`./sounds/${e}`);r.volume=t,r.play().catch(console.error)})(r.sound,r.volume);break;case"UPDATE_PLAYER_ONLINE":e.updatePlayerOnlineStatus(r.playerId,r.isOnline);break;case"SET_REPORT_NOTES":e.setReportNotes(r.reportId,r.notes);break;case"REPORT_NOTE_ADDED":e.addReportNote(r);break;case"REPORT_NOTE_DELETED":e.removeReportNote(r.reportId,r.noteId);break;case"SET_PLAYER_NOTES":e.setPlayerNotes(r.playerId,r.notes);break;case"PLAYER_NOTE_ADDED":e.addPlayerNote(r);break;case"PLAYER_NOTE_DELETED":e.removePlayerNote(r.playerId,r.noteId);break;case"SET_PLAYER_HISTORY":e.setPlayerHistory(r);break;case"SET_STATISTICS":e.setStatistics(r);break;case"SET_PLAYER_INVENTORY":e.setInventory(r.reportId,{items:r.items,itemList:r.itemList,systemName:r.systemName,supportsMetadata:r.supportsMetadata,loading:!1});break;case"INVENTORY_UPDATED":e.setInventoryItems(r.reportId,r.items);break;case"SET_INVENTORY_ACTION_LOG":e.setInventoryActionLog(r.reportId,r.logs);break;case"SHOW_SCREENSHOT_POPUP":e.setScreenshotPopup({isOpen:!0,imageData:r.imageData,playerName:r.playerName,reportId:r.reportId});break;case"USER_SCREENSHOT_CAPTURED":e.setUserScreenshot(r.reportId,r.imageData)}},r=e=>{let{type:r,data:s}=e.data;r&&t(r,s)},window.addEventListener("message",r),()=>{window.removeEventListener("message",r)});return()=>s()},[e]),(0,s.useEffect)(()=>{window.invokeNative||(l(!0),n("dark"),i({identifier:"license:test123",name:"TestPlayer",isAdmin:!0}),x([{id:"general",label:"General",icon:"fa-circle-info"},{id:"bug",label:"Bug Report",icon:"fa-bug"},{id:"player",label:"Player Report",icon:"fa-user"},{id:"question",label:"Question",icon:"fa-question"},{id:"other",label:"Other",icon:"fa-ellipsis"}]),p({my_reports:"My Reports",admin_panel:"Admin Panel",create_report:"Create Report",active_reports:"Active Reports",no_active_reports:"You have no active reports",no_reports:"No reports found",select_report:"Select a report to view details",status_open:"Open",status_claimed:"Claimed",status_resolved:"Resolved",claim_report:"Claim",unclaim_report:"Unclaim",resolve_report:"Resolve",teleport_to:"Teleport",bring_player:"Bring",heal_player:"Heal",delete:"Delete",chat:"Chat",type_message:"Type a message...",cancel:"Cancel",submit:"Submit",report_subject:"Subject",report_subject_placeholder:"Brief summary of your issue",report_category:"Category",report_category_placeholder:"Select a category",report_description:"Description",report_description_placeholder:"Provide more details...",all:"All",theme:"Theme",search_by_player:"Search player..."}),u([{id:1,playerId:"license:test123",playerName:"TestPlayer",subject:"Need help with a vehicle",category:"general",description:"My vehicle disappeared after I parked it near the bank. Can someone help me recover it?",status:"open",priority:0,createdAt:new Date(Date.now()-18e5).toISOString(),updatedAt:new Date(Date.now()-18e5).toISOString(),messages:[{id:1,reportId:1,senderId:"license:test123",senderName:"TestPlayer",senderType:"player",message:"Hello, I really need help with this!",createdAt:new Date(Date.now()-15e5).toISOString()}]},{id:2,playerId:"license:test123",playerName:"TestPlayer",subject:"Bug in the inventory system",category:"bug",description:"Items are duplicating when I transfer them quickly.",status:"claimed",claimedBy:"license:admin123",claimedByName:"AdminUser",priority:1,createdAt:new Date(Date.now()-72e5).toISOString(),updatedAt:new Date(Date.now()-27e5).toISOString(),messages:[]}]),h([{id:3,playerId:"license:other456",playerName:"OtherPlayer",subject:"Player RDM complaint",category:"player",description:"User XYZ killed me without any roleplay.",status:"open",priority:2,createdAt:new Date(Date.now()-9e5).toISOString(),updatedAt:new Date(Date.now()-9e5).toISOString(),messages:[]}]),b({totalReports:156,openReports:12,claimedReports:8,resolvedReports:136,avgResolutionTime:45,reportsByCategory:[{category:"general",count:45},{category:"bug",count:38},{category:"player",count:52},{category:"question",count:15},{category:"other",count:6}],reportsByPriority:[{priority:0,count:78},{priority:1,count:42},{priority:2,count:28},{priority:3,count:8}],adminLeaderboard:[{adminId:"steam:1",adminName:"Admin_Mike",claimed:45,resolved:42,messages:156},{adminId:"steam:2",adminName:"Admin_Sarah",claimed:38,resolved:35,messages:120},{adminId:"steam:3",adminName:"Admin_Tom",claimed:28,resolved:25,messages:89},{adminId:"steam:4",adminName:"Admin_Lisa",claimed:22,resolved:20,messages:67},{adminId:"steam:5",adminName:"Admin_Max",claimed:15,resolved:14,messages:45}],recentActivity:[{date:new Date(Date.now()-5184e5).toISOString().split("T")[0],count:18},{date:new Date(Date.now()-432e6).toISOString().split("T")[0],count:24},{date:new Date(Date.now()-3456e5).toISOString().split("T")[0],count:15},{date:new Date(Date.now()-2592e5).toISOString().split("T")[0],count:32},{date:new Date(Date.now()-1728e5).toISOString().split("T")[0],count:28},{date:new Date(Date.now()-864e5).toISOString().split("T")[0],count:21},{date:new Date().toISOString().split("T")[0],count:12}]}))},[l,n,i,x,p,u,h,b]),(0,s.useEffect)(()=>{let e=e=>{"Escape"===e.key&&t&&v()};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[t,v]),(0,r.jsxs)("div",{"data-theme":a,children:[(0,r.jsx)("div",{className:d("fixed inset-0 items-center justify-center bg-black/50 backdrop-blur-sm",t?"flex":"hidden"),children:(0,r.jsxs)("div",{className:"w-[1200px] xl:w-[1400px] 2xl:w-[1800px] max-w-[95vw] h-[800px] xl:h-[880px] 2xl:h-[1000px] max-h-[90vh] flex flex-col bg-bg-secondary border border-border rounded-xl shadow-lg overflow-hidden animate-[fade-in_0.3s_ease-out]",children:[(0,r.jsx)(w,{}),"statistics"===o?(0,r.jsx)(Q,{}):(0,r.jsxs)("div",{className:"flex flex-1 overflow-hidden",children:[(0,r.jsx)(S,{}),(0,r.jsx)($,{})]})]})}),(0,r.jsx)(C,{}),(0,r.jsx)(ee,{}),(0,r.jsx)(M,{})]})}e.s(["default",()=>et],95384)}]);